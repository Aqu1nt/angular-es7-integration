{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/NgNext.js","src/decorators/Alias.js","src/decorators/Component.js","src/decorators/Config.js","src/decorators/Controller.js","src/decorators/Directive.js","src/decorators/Filter.js","src/decorators/Inject.js","src/decorators/MethodDecorators.js","src/decorators/Run.js","src/decorators/Self.js","src/decorators/Service.js","src/decorators/State.js","src/decorators/View.js","src/integration/WatchIterableFix.js","src/integration/ZoneJSIntegration.js","src/util/AngularModuleResolver.js","src/util/AngularUtils.js","src/util/Configuration.js","src/util/ES6Directive.js","src/util/Symbols.js"],"names":[],"mappings":"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","file":"ng-next.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// import \"./integration/ES6PromiseHook\" DEPRECATED for the sake of zone.js\r\nimport \"./util/AngularModuleResolver\" //Initialize the resolver at least once\r\nimport \"./integration/WatchIterableFix\"\r\n// import \"./integration/NG2EventBinding\" still experimental\r\n\r\n\r\n//Export the angular zone\r\nexport {NgZone} from \"./integration/ZoneJSIntegration\"\r\n\r\n//Export config\r\nexport {config} from \"./util/Configuration\"\r\n\r\n//Export decorators\r\nexport {Controller} from \"./decorators/Controller\"\r\nexport {Service} from \"./decorators/Service\"\r\nexport {Directive} from \"./decorators/Directive\"\r\nexport {Component, Bind} from \"./decorators/Component\"\r\nexport {Filter} from \"./decorators/Filter\"\r\nexport {Config} from \"./decorators/Config\"\r\nexport {Run} from \"./decorators/Run\"\r\nexport {View} from \"./decorators/View\"\r\nexport {Alias} from \"./decorators/Alias\"\r\nexport {Self} from \"./decorators/Self\"\r\nexport {State} from \"./decorators/State\"\r\nexport {Inject} from \"./decorators/Inject\"\r\nexport {Init, Destroy, Watch, WatchCollection, On, Debounce, Schedule, Abstract} from \"./decorators/MethodDecorators\"","import {alias as aliasSymbol} from \"../util/Symbols\"\r\n\r\n/**\r\n * Sets the alias for a controller, can only be used together with @State\r\n * and @Component\r\n * @decorator\r\n */\r\nexport function Alias(alias)\r\n{\r\n    return (target, name) => {\r\n        (target[name] || target)[aliasSymbol] = alias;\r\n        return target;\r\n    }\r\n}\r\n","import {module} from \"../util/AngularModuleResolver\"\r\nimport {decorateView} from \"./View\"\r\nimport * as symbols from \"../util/Symbols\"\r\n\r\n/**\r\n * Defines the class as Component\r\n *\r\n * A component is typically restricted to \"E\" => Element, meaning it will look like\r\n * <component></component> in html.\r\n *\r\n * You can configure the decorator either just with the component selector as string, or\r\n * with a typical angular directive config object, there are some shortcuts available:\r\n *  - controllerAs => as\r\n *  - scope => bind\r\n *  - template => view\r\n *\r\n *  A Component doesn't use the scope, but binds all properties to the controller directly instead.\r\n *\r\n *  If you're using class properties you can use the @Bind([type]) decorator to directly indicate the\r\n *  attributes that should be bound to the outer scope\r\n *\r\n * The @Component decorator can be used together with @View and @Alias and @Bind!\r\n *\r\n * @decorator\r\n * @param name\r\n * @param conf\r\n * @exports\r\n */\r\nexport function Component(name, conf = {})\r\n{\r\n    if (name.constructor != String)\r\n    {\r\n        name = name.selector || name.name;\r\n    }\r\n\r\n    conf.controllerAs = conf.as || conf.controllerAs;\r\n    conf.restrict = conf.restrict || \"E\";\r\n\r\n    if (conf.bindings == false) conf.bindings = false;\r\n    else conf.bindings = conf.bindings || conf.bind || {};\r\n\r\n    if (conf.bindings == false) {\r\n        throw new Error(`Components must have an isolated binding! in ${name}`);\r\n    }\r\n\r\n    conf.template = conf.view || conf.template;\r\n\r\n    return target => {\r\n        conf.controller = target;\r\n\r\n        module.then(m => {\r\n\r\n            m.directive(name, () => {\r\n\r\n                //Merge @Bind properties\r\n                conf.bindings = Object.assign(conf.bindings || {}, target[symbols.bind] || {});\r\n\r\n                conf.controllerAs = target[symbols.alias] || conf.controllerAs || \"$ctrl\";\r\n                conf.bindToController = conf.bindings;\r\n\r\n                decorateView(target, conf);\r\n\r\n                return conf;\r\n            })\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Defines a class property as bound attribute\r\n * @decorator\r\n * @param bindType = or & or @\r\n * @param [attributeName] the name of the attribute, defaults to the property name\r\n * @return {function(*, *, *)}\r\n */\r\nexport function Bind(bindType, attributeName)\r\n{\r\n    return (target, name, desc) => {\r\n\r\n        //Set default attribute name\r\n        if (!attributeName) attributeName = name;\r\n\r\n        //Add the bind property to the type\r\n        let type = target.constructor;\r\n        type[symbols.bind] = type[symbols.bind] || {};\r\n        type[symbols.bind][name] = bindType+attributeName;\r\n\r\n        return {\r\n            writable : true,\r\n            value : desc.value\r\n        };\r\n    }\r\n}\r\n","import {module} from \"../util/AngularModuleResolver\"\r\nimport {fetch} from \"../util/AngularUtils\"\r\n\r\n/**\r\n * Defines a method as config block\r\n * @decorator\r\n * @exports\r\n */\r\nexport function Config(target, name) {\r\n    target = fetch(target);\r\n    if (target instanceof Function) module.then(m => m.config(target));\r\n    else module.then(m => m.config(target[name]));\r\n}","import {module} from \"../util/AngularModuleResolver\"\r\nimport {fetch} from \"../util/AngularUtils\"\r\n\r\n/**\r\n * Defines a class as Controller, if no name is provided aka the decorator is\r\n * used as @Controller then the class name is used as controller name, you can\r\n * specify the name by using the decorator like @Controller(\"ControllerName\") to\r\n * make the decorator minify safe\r\n *\r\n * @decorator\r\n * @param {string | function} [clazz]\r\n */\r\nexport function Controller(clazz) {\r\n    clazz = fetch(clazz);\r\n\r\n    //Function to add the controller\r\n    let addController = (name, clazz) => module.then(m => m.controller(name, clazz));\r\n\r\n    if (clazz instanceof Function) {\r\n        addController(clazz.name, clazz);\r\n    }\r\n    else return (target) => {\r\n        addController(clazz, target);\r\n    };\r\n}","import {module} from \"../util/AngularModuleResolver\"\r\nimport {fetch} from \"../util/AngularUtils\"\r\nimport es6enabler from \"../util/ES6Directive\"\r\n\r\n/**\r\n * Defines a class or a class method as Directive, if no name is provided aka the decorator is\r\n * used as @Directive then the class name or the method name is used as directive name, you can\r\n * specify the name by using the decorator like @Directive(\"myDirectiy\") to\r\n * make the decorator minify safe\r\n *\r\n * @decorator\r\n * @param {string | function} clazz\r\n * @param {string} [name]\r\n * @returns {Function}\r\n * @exports\r\n */\r\nexport function Directive(clazz, name) {\r\n    clazz = fetch(clazz);\r\n\r\n    let registerDirective = (name, fn) => module.then(m => m.directive(name, es6enabler(fn)));\r\n\r\n    if (clazz.constructor != String) //Directive is called without name => @Directive\r\n    {\r\n        if (clazz instanceof Function) registerDirective(clazz.name, clazz); //Class\r\n        else registerDirective(name, clazz[name]); //Class method\r\n    }\r\n    else return (target, n) => { //Directive is called without name => @Directive(\"myDirective\")\r\n        if (target instanceof Function) registerDirective(clazz, target); //Class\r\n        else registerDirective(n, target[n]); //Class method\r\n    };\r\n}","import {module} from \"../util/AngularModuleResolver\"\r\nimport {fetch} from \"../util/AngularUtils\"\r\n\r\n/**\r\n * REgisters a method as an angular Filter\r\n * If used like @Filter the method name will be chosen as filter name,\r\n * Alternatively you can give the filter name as argument, your method will then look\r\n * like @Filter(\"myFilter\")...\r\n * @decorator\r\n * @exports\r\n */\r\nexport function Filter(clazz, method) {\r\n    clazz = fetch(clazz);\r\n\r\n    //Function to add the controller\r\n    let registerFilter = (name, fn) => module.then(m => m.filter(name, fn));\r\n\r\n    if (clazz.constructor != String) { //With method name as filter name\r\n        registerFilter(method, clazz[method]);\r\n    }\r\n    else return (target, method) => { //With specified name\r\n        registerFilter(clazz, target[method]);\r\n    };\r\n}","import {angularInjector, module} from \"../util/AngularModuleResolver\"\r\nimport * as symbols from \"../util/Symbols\"\r\nimport {callAnnotations} from \"../util/AngularUtils\"\r\n\r\n/**\r\n * Inject one of the following into the object:\r\n *      - services\r\n *      - $scope\r\n *      - any $scope variable\r\n *\r\n * the variable: usage =>\r\n * class foo {\r\n *      @Inject $timeout;\r\n *      @Inject(\"$timeout\") tmout;\r\n *      @Inject fooCtrl\r\n *      @Inject scopeVar\r\n *      @Inject $scope\r\n *\r\n *      constructor()\r\n *      {\r\n *          console.log(this.$timeout, this.tmout);\r\n *      }\r\n * }\r\n *\r\n * Attention! The property won't get injected instantly, but a getter\r\n * which will replace itself with the resolved object on the first call,\r\n * with this technique we're able to resolve circular dependencies sometimes\r\n *\r\n * @param target\r\n * @param name\r\n * @param descriptor\r\n * @decorator\r\n */\r\nexport function Inject(target, name, descriptor)\r\n{\r\n    let fieldName;\r\n    let injector = (target, name, descriptor) =>\r\n    {\r\n        if (descriptor.value instanceof Function) {\r\n            throw new Error(\"Can't use @Inject on a method\");\r\n        }\r\n\r\n        return {\r\n            set : function(value) {\r\n                Object.defineProperty(this, fieldName, {value, writable : true});\r\n            },\r\n            get : function() {\r\n\r\n                let $injector = angularInjector();\r\n                let obj = null;\r\n                let injected = false;\r\n\r\n                let locals = this[symbols.locals] || currentLocals;\r\n\r\n                //Locale\r\n                if (locals && (locals.hasOwnProperty(name) || locals[name])){\r\n                    obj = locals[name];\r\n                    injected = true;\r\n                }\r\n\r\n                //Service\r\n                else if ($injector.has(name)) {\r\n                    obj = $injector.get(name);\r\n                    injected = true;\r\n                }\r\n\r\n                //$scope or parent scope property\r\n                else if (locals && locals.$scope && (Reflect.hasOwnProperty(locals.$scope, name) || locals.$scope[name])){\r\n                    obj = locals.$scope[name];\r\n                    injected = true;\r\n                }\r\n\r\n                if (!injected) {\r\n                    console.error(`Wasn't able to @Inject ${name} as ${fieldName} into ${target.constructor.name}`);\r\n                    return;\r\n                }\r\n\r\n                Object.defineProperty(this, fieldName, {value : obj, writable : true});\r\n                return obj;\r\n            }\r\n        };\r\n    };\r\n\r\n    if (descriptor) {\r\n        fieldName = name;\r\n        return injector(target, name, descriptor);\r\n    }\r\n    else {\r\n        let nameReplacement = target;\r\n        return function(target, name, descriptor) {\r\n            fieldName = name;\r\n            return injector(target, nameReplacement, descriptor);\r\n        };\r\n    }\r\n}\r\n\r\n\r\nlet currentLocals = undefined;\r\nmodule.then(m => m.config([\"$provide\", function($provide){\r\n    $provide.decorator(\"$controller\", [\"$delegate\", function($delegate){\r\n        return function(expression, locals, later, ident){\r\n\r\n            //For usage in constructor\r\n            currentLocals = locals;\r\n\r\n            //Create the controller\r\n            let controller = $delegate(expression, locals, later, ident);\r\n\r\n            //Reset the locals\r\n            currentLocals = undefined;\r\n\r\n            //Check if its an object\r\n            if (!later){\r\n                controller[symbols.locals] = locals;\r\n                controller[symbols.scope] = locals.$scope;\r\n                callAnnotations(controller, locals.$scope);\r\n                return controller;\r\n            }\r\n            else {\r\n                return function(){\r\n                    currentLocals = locals;\r\n                    let c = controller();\r\n                    currentLocals = undefined;\r\n                    c[symbols.locals] = locals;\r\n                    c[symbols.scope] = locals.$scope;\r\n                    callAnnotations(c, locals.$scope);\r\n                    return c;\r\n                }\r\n            }\r\n        };\r\n    }])\r\n}]));\r\n","import {angularInjector} from \"../util/AngularModuleResolver\"\r\nimport * as symbols from \"../util/Symbols\"\r\n\r\n// This file contains the following decorators\r\n// @Init\r\n// @Destroy\r\n// @Watch\r\n// @WatchCollection\r\n// @On\r\n// @Debounce\r\n// @Abstract\r\n\r\n/**\r\n * Executes all Methods annotated with this annotation after\r\n * the object has been created\r\n *\r\n * Only working in services and controllers!\r\n *\r\n * @decorator\r\n */\r\nexport function Init(target, name, descriptor){\r\n    if (!descriptor) {\r\n        throw new Error(\"@Init can only be used on class methods\");\r\n    }\r\n    target[symbols.init] = target[symbols.init] || [];\r\n    target[symbols.init].push(name);\r\n}\r\n\r\n/**\r\n * Executes all Methods annotated with this annotation after\r\n * the object gets destroyed.\r\n *\r\n * Only usable in controllers!\r\n *\r\n * @param target\r\n * @param name\r\n * @exports\r\n * @decorator\r\n */\r\nexport function Destroy(target, name){\r\n    target[symbols.destroy] = target[symbols.destroy] || [];\r\n    target[symbols.destroy].push(name);\r\n}\r\n\r\n/**\r\n * Sets a $watch on the given controller evaluation, the method will be used\r\n * as regular $watch callback.\r\n *\r\n * If your controller has a property \"foo\" the following method would watch for\r\n * changes on \"foo\"\r\n *\r\n * \\@Watch(\"foo\")\r\n * fooChanged(newVal, oldVal)\r\n * {\r\n *  ........\r\n * }\r\n *\r\n * @param property\r\n * @param {boolean} [deep]\r\n * @exports\r\n * @decorator\r\n */\r\nexport function Watch(property, deep = false){\r\n\r\n    return (target, name) => {\r\n        target[symbols.watch] = target[symbols.watch] || [];\r\n        target[symbols.watch].push({property, name, deep, collection : false});\r\n    };\r\n}\r\n\r\n/**\r\n * Same as @Watch but for collections\r\n * @param [property]\r\n * @exports\r\n * @decorator\r\n */\r\nexport function WatchCollection(property){\r\n\r\n    return (target, name) => {\r\n        target[symbols.watch] = target[symbols.watch] || [];\r\n        target[symbols.watch].push({property, name, false, collection : true});\r\n    };\r\n}\r\n\r\n/**\r\n * Schedules the method so it will get executed every n milliseconds\r\n * @param interval in milliseconds\r\n * @decorator\r\n */\r\nexport function Schedule(interval)\r\n{\r\n    return (target, name, desc) => {\r\n        target[symbols.schedule] = target[symbols.schedule] || [];\r\n        target[symbols.schedule].push({interval, name})\r\n    }\r\n}\r\n\r\n/**\r\n * Registers the method as an eventhandler via $scope.$on\r\n *\r\n * \\@On(\"$stateChangeSucces\")\r\n * stateChanged(newState, oldState ...)\r\n * {\r\n *  .......\r\n * }\r\n *\r\n * @param event\r\n * @decorator\r\n */\r\nexport function On(event)\r\n{\r\n    return (target, name, desc) => {\r\n        target[symbols.on] = target[symbols.on] || [];\r\n        target[symbols.on].push({event, name})\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Debounces the method so it will only get executed after it hasn't been called\r\n * for n millis\r\n *\r\n * @param millis\r\n * @param {boolean} [angularTimeout=true] - if false the window timeout will get used\r\n * @returns {Function}\r\n * @decorator\r\n */\r\nexport function Debounce(millis, angularTimeout = true)\r\n{\r\n    return (target, name, desc) => {\r\n        let timeout;\r\n        let fn = desc.value;\r\n        desc.value = function(...args){\r\n\r\n            //Setup\r\n            let context = this;\r\n            let timeoutFn = function(){\r\n                fn.apply(context,args);\r\n            };\r\n\r\n            //Use angular $timeout ($apply cycle)\r\n            if (angularTimeout)\r\n            {\r\n                let $timeout = angularInjector().get(\"$timeout\");\r\n                $timeout.cancel(timeout);\r\n                timeout = $timeout(timeoutFn, millis);\r\n            }\r\n            //Use window timeout\r\n            else\r\n            {\r\n                clearTimeout(timeout);\r\n                timeout = setTimeout(timeoutFn, millis);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Marks a method as abstract, this means the method will get replaced\r\n * with one that throws an error when called saying the method\r\n * is not implemented\r\n * @param target\r\n * @param name\r\n * @param desc\r\n * @decorator\r\n */\r\nexport function Abstract(target, name, desc)\r\n{\r\n    desc.value = function(){\r\n        throw new Error(`${target.name}@${name} is not implemented (Abstract)`);\r\n    };\r\n}","import {module} from \"../util/AngularModuleResolver\"\r\nimport {fetch} from \"../util/AngularUtils\"\r\n\r\n/**\r\n * Defines a method as run block\r\n * @decorator\r\n * @exports\r\n */\r\nexport function Run(target, name) {\r\n    target = fetch(target);\r\n    if (target instanceof Function) module.then(m => m.run(target));\r\n    else module.then(m => m.run(target[name]));\r\n}","/**\r\n * The decorator may be used on classes or methods\r\n * ```\r\n * @Self\r\n * class FullBound {}\r\n *\r\n * class PartBound {\r\n *   @Self\r\n *   method () {}\r\n * }\r\n * ```\r\n *\r\n * @decorator\r\n */\r\nexport function Self(...args) {\r\n    if (args.length === 1) {\r\n        return boundClass(...args);\r\n    } else {\r\n        return boundMethod(...args);\r\n    }\r\n}\r\n\r\n/**\r\n * Use boundMethod to bind all methods on the target.prototype\r\n */\r\nfunction boundClass(target) {\r\n    // (Using reflect to get all keys including symbols)\r\n    let keys;\r\n    // Use Reflect if exists\r\n    if (typeof Reflect !== 'undefined' && typeof Reflect.ownKeys === 'function') {\r\n        keys = Reflect.ownKeys(target.prototype);\r\n    } else {\r\n        keys = Object.getOwnPropertyNames(target.prototype);\r\n        // use symbols if support is provided\r\n        if (typeof Object.getOwnPropertySymbols === 'function') {\r\n            keys = keys.concat(Object.getOwnPropertySymbols(target.prototype));\r\n        }\r\n    }\r\n\r\n    keys.forEach(key => {\r\n        // Ignore special case target method\r\n        if (key === 'constructor') {\r\n            return;\r\n        }\r\n\r\n        let descriptor = Object.getOwnPropertyDescriptor(target.prototype, key);\r\n\r\n        // Only methods need binding\r\n        if (typeof descriptor.value === 'function') {\r\n            Object.defineProperty(target.prototype, key, boundMethod(target, key, descriptor));\r\n        }\r\n    });\r\n    return target;\r\n}\r\n\r\n/**\r\n * Return a descriptor removing the value and returning a getter\r\n * The getter will return a .bind version of the function\r\n * and memoize the result against a symbol on the instance\r\n */\r\nfunction boundMethod(target, key, descriptor) {\r\n    let fn = descriptor.value;\r\n\r\n    if (typeof fn !== 'function') {\r\n        throw new Error(`@Self decorator can only be applied to methods not: ${typeof fn}`);\r\n    }\r\n\r\n    return {\r\n        configurable: true,\r\n        get : function() {\r\n            let self = this;\r\n            return (...params) => fn.call(self, ...params);\r\n        }\r\n    };\r\n}","import {module} from \"../util/AngularModuleResolver\"\r\nimport {fetch} from \"../util/AngularUtils\"\r\n\r\n/**\r\n * Defines a class as Service, if no name is provided aka the decorator is\r\n * used as @Service then the class name is used as service name, you can\r\n * specify the name by using the decorator like @Service(\"ServiceName\") to\r\n * make the decorator minify safe\r\n *\r\n * @decorator\r\n * @param {string | function} [clazz]\r\n */\r\nexport function Service(clazz) {\r\n    clazz = fetch(clazz);\r\n\r\n    //Function to add the controller\r\n    let addService = (name, clazz) => module.then(m => m.service(name, clazz));\r\n\r\n    if (clazz instanceof Function) {\r\n        addService(clazz.name, clazz);\r\n    }\r\n    else return (target) => {\r\n        addService(clazz, target);\r\n    };\r\n}","import {Controller} from \"./Controller\"\r\nimport {module} from \"../util/AngularModuleResolver\"\r\nimport {decorateView} from \"./View\"\r\nimport {config} from \"../util/Configuration\"\r\nimport * as symbols from \"../util/Symbols\"\r\n\r\n/**\r\n * Angular UI Router support\r\n *\r\n * With this Decorator you are able to decorate any class with @State,\r\n * as parameter you will give the usual state config\r\n *\r\n * In addition you can specify a default state by adding default : true\r\n * to the state config, this state will be called when a 404 aka a missing\r\n * url is requested. You're also able to shorten controllerAS to as.\r\n *\r\n * The class which is being decorated with @State will work as controller\r\n * for the specified state\r\n *\r\n * The State decorator works best with @Alias and @View\r\n *\r\n * @decorator\r\n * @param conf\r\n * @returns {Function}\r\n * @exports\r\n */\r\nexport function State(conf)\r\n{\r\n    return target => {\r\n        target[symbols.state] = conf;\r\n        Controller(target);\r\n        return target;\r\n    }\r\n}\r\n\r\n/**\r\n * Tries to configure the state from the $$state var on\r\n * the all controllers\r\n * @param clazz\r\n */\r\nmodule.then( m => {\r\n    m.config([\"$injector\", function ($injector) {\r\n        \"ngInject\";\r\n\r\n        let registeredControllers = [];\r\n        let states = [];\r\n\r\n        //Find every state controller\r\n        m._invokeQueue.forEach(item => {\r\n            let constructor = item[2][1];\r\n            if (registeredControllers.find((t) => t.type == constructor)) return;\r\n            if (constructor[symbols.state]) {\r\n                constructor[symbols.state].clazz = constructor;\r\n                states.push(constructor[symbols.state]);\r\n                registeredControllers.push({type: constructor});\r\n            }\r\n        });\r\n\r\n        //Return if ui-router is not installed\r\n        if (!$injector.has(\"$stateProvider\")) {\r\n\r\n            if (states.length) {\r\n                console.error(\"Error: @State is used but ui-router is not installed!\")\r\n            }\r\n            return;\r\n        }\r\n\r\n        //Fetch the state provider\r\n        let $stateProvider = $injector.get(\"$stateProvider\");\r\n        let $urlRouterProvider = $injector.get(\"$urlRouterProvider\");\r\n\r\n        //Indicator if a default state has been set\r\n        let defaultState = false;\r\n\r\n        //Configure all states\r\n        for (let conf of states) {\r\n            let clazz = conf.clazz;\r\n\r\n            //Set the default state if\r\n            if (conf.default) {\r\n                if (defaultState) {\r\n                    throw new Error(`Default state has already been set while configuring ${conf.name}, other default: ${defaultState.name}`);\r\n                }\r\n                defaultState = conf;\r\n                $urlRouterProvider.otherwise(function ($injector) {\r\n                    $injector.invoke(['$state', function ($state) {\r\n                        $state.go(conf.name, {}, {location: \"replace\"});\r\n                    }]);\r\n                });\r\n            }\r\n\r\n            //Set the controller\r\n            conf.controller = clazz;\r\n            conf.controllerAs = conf.as || conf.controllerAs || clazz[symbols.alias];\r\n\r\n            //Attempt to decorate @View decorator\r\n            decorateView(clazz, conf);\r\n\r\n            //Apply decorators\r\n            let decoratedConf = config.STATE_DECORATOR(conf);\r\n            if (decoratedConf) conf = decoratedConf;\r\n\r\n            //Finally configure the state onto the ui-router\r\n            $stateProvider.state(conf);\r\n        }\r\n    }]);\r\n});","import * as symbols from \"../util/Symbols\"\r\n\r\n/**\r\n * Sets the view of an @Component or a @State can either be\r\n * a template or a templateUrl, the view is recognized as template\r\n * if it contains at least 1 tag!\r\n * @param view\r\n * @Decorator\r\n */\r\nexport function View(view)\r\n{\r\n    return (target) => {\r\n        target[symbols.view] = view;\r\n        return target;\r\n    }\r\n}\r\n\r\n/**\r\n * Decorates the view to the configuration\r\n * @param clazz\r\n * @param conf\r\n */\r\nexport function decorateView(clazz, conf)\r\n{\r\n    let view = clazz[symbols.view];\r\n    if (!view) return;\r\n    let urlRegex = /[^<>]+\\.[A-Za-z]{2,5}$/;\r\n    if (urlRegex.test(\r\n        view)) { //url\r\n        conf.templateUrl = view;\r\n    } else {\r\n        conf.template = view;\r\n    }\r\n}","import {module} from \"../util/AngularModuleResolver\"\r\n\r\n/**\r\n * This module targets angulars missing ability to track objects following the ES6 iterator pattern,\r\n * where any object which has a [Symbol.iterator]() method is iterable.\r\n *\r\n * This module monkey patches every $scope to proxy $watchCollection and transform a possible iterable\r\n * into a simple array.\r\n *\r\n * If you want to access the original methods, you will have to call $scope[Symbol.for(\"$watchCollection\")]\r\n */\r\nmodule.then(module => {\r\n    /**\r\n     * Hook into the $rootScopeProvider to make sure we're the first ones to modify the $rootScope\r\n     */\r\n    module.config([\"$rootScopeProvider\", function($rootScopeProvider){\r\n        const $get = $rootScopeProvider.$get;\r\n        $rootScopeProvider.$get = [\"$injector\", \"$parse\", function($injector, $parse){\r\n            let $rootScope = $injector.invoke($get);\r\n\r\n            monkeyPatch$watchCollection($rootScope, $parse);\r\n            monkeyPatch$watchCollection($rootScope.__proto__.constructor.prototype, $parse);\r\n\r\n            return $rootScope;\r\n        }];\r\n    }]);\r\n});\r\n\r\n/**\r\n * Global symbols to access the\r\n * @type {Symbol}\r\n * @private\r\n */\r\nconst $watchCollection = Symbol.for(\"$watchCollection\");\r\n\r\n\r\n/**\r\n * Here we're actually patching the $watchCollection method\r\n * @param $target\r\n * @param $parse\r\n */\r\nfunction monkeyPatch$watchCollection($target, $parse)\r\n{\r\n    $target[$watchCollection] = $target.$watchCollection;\r\n\r\n    $target.$watchCollection = function(property, action){\r\n\r\n        let isFunc = typeof property == 'function';\r\n        let getter = isFunc ? property : $parse(property);\r\n        let iterableAsArray = undefined;\r\n        let $scope = this;\r\n\r\n        let monkeyPatchedObserver = function(){\r\n            let resolved = getter(isFunc ? undefined : $scope);\r\n\r\n            if (resolved && !(resolved instanceof Array) && resolved[Symbol.iterator])\r\n            {\r\n                //Reference changed, change our too\r\n                if (resolved !== iterableAsArray) {\r\n                    iterableAsArray = [];\r\n                }\r\n\r\n                //Refill array\r\n                iterableAsArray.length = 0;\r\n                for (let item of resolved) {\r\n                    iterableAsArray.push(item);\r\n                }\r\n\r\n                //And return it as result of the watch expression\r\n                return iterableAsArray;\r\n            }\r\n            iterableAsArray = undefined;\r\n\r\n            //If it's not an iterable non-array just return the original object\r\n            console.log(resolved, property);\r\n            return resolved;\r\n        };\r\n\r\n        return this[$watchCollection](monkeyPatchedObserver, action); //Must be this way because of maximum call stack size exceeded error\r\n    }\r\n}","import {config} from \"../util/Configuration\"\r\n\r\n//The default zone where runOutsideAngular() calls are being executed\r\nconst outerZone = Zone.current;\r\n\r\n//Create the angular zone\r\nexport const NgZone = outerZone.fork({\r\n    name : \"Angular Zone <ng-next>\",\r\n    onInvoke : function(delegate, current, target, callback, applyThis, args) {\r\n        try {\r\n            NgZone.$digested = false;\r\n            return delegate.invoke(target, callback, applyThis, args);\r\n        } finally {\r\n            $digestOnce();\r\n        }\r\n    },\r\n    onInvokeTask : function(delegate, current, target, task, applyThis, args) {\r\n        try {\r\n            NgZone.$digested = false;\r\n            return delegate.invokeTask(target, task, applyThis, args);\r\n        } finally {\r\n            $digestOnce();\r\n        }\r\n    }\r\n});\r\n\r\n// Add $digest to the zone\r\nNgZone.$digest = function(){};\r\n\r\n// Digests only if not already done\r\nconst $digestOnce = function () {\r\n    if (!NgZone.$digested) NgZone.$digest();\r\n    NgZone.$digested = false;\r\n};\r\n\r\n// Add runOutsideAngular to the zone\r\nNgZone.runOutsideAngular = function (fn) {\r\n    outerZone.run(fn);\r\n};\r\n\r\n//NgZone module\r\nexport const ngZoneModule = angular.module(\"ngZone\", []);\r\nngZoneModule.factory(\"NgZone\", () => NgZone);\r\n\r\n//Add auto-bootstrap handler\r\nangular.element(document).ready(() => {\r\n\r\n    if (!config.ZONE_JS)\r\n    {\r\n        angular.resumeBootstrap();\r\n    }\r\n    else\r\n    {\r\n        NgZone.run(() => {\r\n\r\n            //Export the angular zone onto the window if not existing\r\n            window.NgZone = window.NgZone || NgZone;\r\n\r\n            //Resume bootstrap inside of our angular zone\r\n            angular.resumeBootstrap([\"ngZone\"]).invoke([\"$rootScope\", ($rootScope) => {\r\n\r\n                //Patch root scopes digest to set an indicator on the zone\r\n                const digestSymbol = Symbol.for(\"$digest\");\r\n                $rootScope[digestSymbol] = $rootScope.$digest;\r\n\r\n                //If you want to digest on zone leave give \"false\" as parameter to $rootScope.$digest\r\n                $rootScope.$digest = function (disableZoneJS = true) {\r\n                    if (disableZoneJS) NgZone.$digested = true;\r\n                    this[digestSymbol]();\r\n                };\r\n\r\n                //Add digest to the angular zone\r\n                NgZone.$digest = function () {\r\n                    if (!$rootScope.$$phase){\r\n                        $rootScope.$digest();\r\n                    }\r\n                }\r\n\r\n            }]);\r\n        });\r\n    }\r\n});\r\n\r\n//Force angular to stop the bootstrap process\r\nwindow.name = \"NG_DEFER_BOOTSTRAP!\";\r\n","import {config} from \"./Configuration\"\r\n\r\n/**\r\n * Reference to the angular module used by Angular2to1, this module is either\r\n * resolved via ng-app or by useAngularModule(...)\r\n */\r\nlet angularModule = null;\r\n\r\n/**\r\n * The injector of our main module\r\n * This $injector service is set as soon as the module was requested\r\n * the first time and angular is beyond its run phase\r\n */\r\nlet $injector = null;\r\nlet $injectorRequested = false;\r\n\r\nlet requestInjector = function(){\r\n    if (angularModule && !$injectorRequested)\r\n    {\r\n        angularModule.run([\"$injector\", i => $injector = i]);\r\n        $injectorRequested = true;\r\n    }\r\n};\r\n\r\n/**\r\n * Attempts to lookup the root angular module of the app by resolving the first\r\n * ng-app on the DOM\r\n * As an alternative you can set your module with useAngularModule(), which will\r\n * then be returned by this function\r\n */\r\nexport function lookupAngularModule()\r\n{\r\n    try {\r\n        //Get manually specified module from config\r\n        if (config.MODULE && !angularModule) {\r\n            angularModule = config.MODULE;\r\n        }\r\n\r\n        //Returns the preset module if available\r\n        if (angularModule) {\r\n            return angularModule;\r\n        }\r\n\r\n        let ngAppHolder = angular.element(document.querySelector(\"[ng-app]\"));\r\n\r\n\r\n        if (!ngAppHolder.length) {\r\n            throw new Error(\"No element with [ng-app] found and no module set with 'useAngularModule()'\");\r\n        }\r\n\r\n        let moduleName = ngAppHolder[0].getAttribute('ng-app');\r\n        angularModule = angular.module(moduleName);\r\n\r\n        return angularModule;\r\n    } finally {\r\n        requestInjector();\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Sets the angular module which is used by Angular2to1\r\n * @param module\r\n */\r\nexport function useAngularModule(module)\r\n{\r\n    angularModule = module;\r\n    requestInjector();\r\n}\r\n\r\n/**\r\n * Returns the main $injector of the root angular\r\n * module, is available as soon as the module has been requested at least\r\n * once and angular is beyond its run phase\r\n * @decorator\r\n * @return {*}\r\n */\r\nexport function angularInjector()\r\n{\r\n    return $injector;\r\n}\r\n\r\nfunction moduleError(e)\r\n{\r\n    console.log(e);\r\n}\r\n\r\nconst modulePromise = new Promise(function (resolve) {\r\n    try  //If we're lucky the module does already exist\r\n    {\r\n        let module = lookupAngularModule();\r\n        requestInjector();\r\n        resolve(module);\r\n    }\r\n    catch (e) //Otherwise we must attempt to await its creation\r\n    {\r\n        /**\r\n         * If ng-app is defined we're monkey patching angulars module() function\r\n         * in order to get notified as soon as the module is available\r\n         * @type {Object}\r\n         */\r\n        let ngAppHolder = angular.element(document.querySelector(\"[ng-app]\"));\r\n        if (ngAppHolder.length)\r\n        {\r\n            let appModuleName = ngAppHolder[0].getAttribute('ng-app');\r\n            const origModuleFunction = angular.module;\r\n\r\n            if (!angular) {\r\n                throw new Error(\"Please include angular before ng-next!\");\r\n            }\r\n\r\n            //Monkey patch the module function to detect its creation\r\n            angular.module = function(name, dependencies)\r\n            {\r\n                let module = origModuleFunction(name, dependencies);\r\n\r\n                //Our main module is available\r\n                if (name == appModuleName && dependencies) {\r\n                    angular.module = origModuleFunction;\r\n                    angularModule = module;\r\n                    requestInjector();\r\n                    resolve(module);\r\n                }\r\n\r\n                return module;\r\n            };\r\n        } else {\r\n            //In case no ng-app is available we must monkey patch the config object to get\r\n            //Notified when the module is getting configured\r\n            let moduleSymbol = Symbol(\"MODULE\");\r\n            Object.defineProperty(config, \"MODULE\", {\r\n                set : module => {\r\n                    if (!config[moduleSymbol]) {\r\n                        angularModule = module;\r\n                        requestInjector();\r\n                        resolve(module);\r\n                    }\r\n                    config[moduleSymbol] = module\r\n                },\r\n                get : () => config[moduleSymbol]\r\n            })\r\n        }\r\n\r\n    }\r\n});\r\n\r\n\r\nexport {modulePromise as module}\r\n","import {angularInjector, module} from \"./AngularModuleResolver\"\r\nimport {config} from \"./Configuration\"\r\nimport * as symbols from \"../util/Symbols\"\r\n\r\n/**\r\n * If the argument is an array (inject) this method\r\n * will return only the function with the $inject property\r\n * set\r\n * @param arg\r\n * @returns {Function}\r\n */\r\nexport function fetch(arg)\r\n{\r\n    if (arg.constructor == Array)\r\n    {\r\n        let arr = arg;\r\n        arg = arr.splice(arr.length - 1, 1)[0];\r\n        arg.$inject = arr;\r\n    }\r\n    return arg;\r\n}\r\n\r\n// Run block which will configure all annotations on any services available\r\n// All services are used together with the $rootScope\r\n/**\r\n * Exposes all services of a single module\r\n * @param module\r\n */\r\nlet exposeModule = module => {\r\n    let $injector = angularInjector();\r\n    let $rootScope = $injector.get(\"$rootScope\");\r\n    module._invokeQueue.forEach(item => {\r\n        let def = item[2];\r\n        if ($injector.has(def[0])) {\r\n            let service = $injector.get(def[0]);\r\n            callAnnotations(service, $rootScope);\r\n        }\r\n    });\r\n};\r\n\r\n//Await the angular module\r\nmodule.then(m => {\r\n    m.run(() => {\r\n        if (config.ALLOW_DECORATORS_IN_SERVICES) {\r\n            exposeModule(m)\r\n        }\r\n    });\r\n});\r\n\r\n/**\r\n * Calls all registered annotations on the controller, or on\r\n * a service\r\n * @param controller\r\n * @param $scope\r\n */\r\nexport function callAnnotations(controller, $scope)\r\n{\r\n    //Async wrapper\r\n    let asyncWrapper = function (result) {\r\n        if (result instanceof Promise) {\r\n            result.then(() => $scope.$digest.call($scope));\r\n        }\r\n    };\r\n\r\n    //Call init methods\r\n    let inited = [];\r\n    for (let initializer of controller[symbols.init] || [])\r\n    {\r\n        if (!inited.includes(initializer)) {\r\n            asyncWrapper(controller[initializer]());\r\n        }\r\n        inited.push(initializer);\r\n    }\r\n\r\n    //Bind watches\r\n    let watched = [];\r\n    let $parse = angularInjector().get(\"$parse\");\r\n    for (let watcher of controller[symbols.watch] || []) {\r\n        if (!watched.includes(watcher)) {\r\n\r\n            //Parse the angular expression\r\n            let parse = $parse(watcher.property);\r\n            let getter = () => parse(controller);\r\n\r\n            let action = function(...params){\r\n                controller[watcher.name](...params);\r\n            }.bind(controller);\r\n\r\n            if (!watcher.collection) $scope.$watch(getter, action, !!watcher.deep);\r\n            else $scope.$watchCollection(getter, action);\r\n        }\r\n        watched.push(watcher);\r\n    }\r\n\r\n\r\n    //Bind events\r\n    let evented = [];\r\n    for (let on of controller[symbols.on] || []) {\r\n        if (! evented.includes(on)) {\r\n            $scope.$on(on.event, function(...params){\r\n                asyncWrapper(controller[on.name](...params));\r\n            }).bind(controller);\r\n        }\r\n        evented.push(on);\r\n    }\r\n\r\n    //Scheduled methods\r\n    let $interval = angularInjector().get(\"$interval\");\r\n    let scheduled = [];\r\n    for (let schedule of controller[symbols.schedule] || []) {\r\n        if (!scheduled.includes(schedule)){\r\n            let id = $interval(function(){\r\n                asyncWrapper(controller[schedule.name]());\r\n            }.bind(controller), schedule.interval);\r\n            $scope.$on(\"$destroy\", () => $interval.cancel(id));\r\n        }\r\n    }\r\n\r\n    //Call destroy methods\r\n    $scope.$on(\"$destroy\", function(){\r\n        let destroyed = [];\r\n        for (let destroyer of controller[symbols.destroy] || [])\r\n        {\r\n            if (!destroyed.includes(destroyer)) controller[destroyer]();\r\n            destroyed.push(destroyer);\r\n        }\r\n    });\r\n}","// The purpose of this file is to provide an easy configuration API\r\n// accesible from the outside\r\n\r\n/**\r\n * The module configuration, as an anonymous object\r\n */\r\nconst NgNextConfig =  {\r\n\r\n    //Angular module\r\n    MODULE : undefined,\r\n\r\n    //Zone.js\r\n    ZONE_JS : true,\r\n\r\n    //Further configuration\r\n    ALLOW_DECORATORS_IN_SERVICES : true,\r\n\r\n    //Decorators\r\n    STATE_DECORATOR : state => state\r\n};\r\n\r\nexport {NgNextConfig as config};","/**\r\n * This wrapper enables an intuitive way to use of es6 classes\r\n * as angular directive.\r\n * If you wrap your directive class with this function you can\r\n * use link/compile functions with \"this\" reference and @ngInject\r\n * on both the constructor and the controller!\r\n *\r\n * @param directive\r\n */\r\nexport default function(directive)\r\n{\r\n    /**\r\n     * Fetch function from array\r\n     */\r\n    if (directive.constructor == Array)\r\n    {\r\n        let arr = directive;\r\n        directive = arr.splice(arr.length - 1, 1)[0];\r\n        directive.$inject = arr;\r\n    }\r\n\r\n    //Check if directive is an actual class\r\n    try\r\n    {\r\n        directive();\r\n        return directive;\r\n    }\r\n    catch (e)\r\n    {\r\n        //Continue and wrap class to make it usable in angular\r\n        if(!(e instanceof TypeError)) return directive;\r\n    }\r\n\r\n    let fn = function(...inject)\r\n    {\r\n        //Create Directive\r\n        let instance = new directive(...inject);\r\n\r\n        //Wrap link call to keep this references\r\n        if (!!instance.link)\r\n        {\r\n            let link = instance.link;\r\n\r\n            instance.link = function(...args){\r\n                link.apply(instance, args);\r\n            };\r\n        }\r\n\r\n        //Wrap compile call to keep \"this\" reference\r\n        if (!!instance.compile)\r\n        {\r\n            let compile = instance.compile;\r\n\r\n            instance.compile = function(...args)\r\n            {\r\n                return compile.apply(instance, args);\r\n            }\r\n        }\r\n\r\n        //Return the directive to angular\r\n        return instance;\r\n    };\r\n\r\n    //Keep ngAnnotate injects\r\n    fn.$inject = directive.$inject;\r\n\r\n    return fn;\r\n};","export const state = Symbol(\"@State\");\r\nexport const view = Symbol(\"@View\");\r\nexport const alias = Symbol(\"@Alias\");\r\nexport const init = Symbol(\"@Init\");\r\nexport const destroy = Symbol(\"@Destroy\");\r\nexport const watch = Symbol(\"@Watch\");\r\nexport const on = Symbol(\"@On\");\r\nexport const schedule = Symbol(\"@Schedule\");\r\nexport const bind = Symbol(\"@Bind\");\r\nexport const scope = Symbol(\"Scope\");\r\nexport const locals = Symbol(\"Locals\");\r\n"],"preExisting":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXE5nTmV4dC5qcyIsInNyY1xcZGVjb3JhdG9yc1xcQWxpYXMuanMiLCJzcmNcXGRlY29yYXRvcnNcXENvbXBvbmVudC5qcyIsInNyY1xcZGVjb3JhdG9yc1xcQ29uZmlnLmpzIiwic3JjXFxkZWNvcmF0b3JzXFxDb250cm9sbGVyLmpzIiwic3JjXFxkZWNvcmF0b3JzXFxEaXJlY3RpdmUuanMiLCJzcmNcXGRlY29yYXRvcnNcXEZpbHRlci5qcyIsInNyY1xcZGVjb3JhdG9yc1xcSW5qZWN0LmpzIiwic3JjXFxkZWNvcmF0b3JzXFxNZXRob2REZWNvcmF0b3JzLmpzIiwic3JjXFxkZWNvcmF0b3JzXFxSdW4uanMiLCJzcmNcXGRlY29yYXRvcnNcXFNlbGYuanMiLCJzcmNcXGRlY29yYXRvcnNcXFNlcnZpY2UuanMiLCJzcmNcXGRlY29yYXRvcnNcXFN0YXRlLmpzIiwic3JjXFxkZWNvcmF0b3JzXFxWaWV3LmpzIiwic3JjXFxpbnRlZ3JhdGlvblxcV2F0Y2hJdGVyYWJsZUZpeC5qcyIsInNyY1xcaW50ZWdyYXRpb25cXFpvbmVKU0ludGVncmF0aW9uLmpzIiwic3JjXFx1dGlsXFxBbmd1bGFyTW9kdWxlUmVzb2x2ZXIuanMiLCJzcmNcXHV0aWxcXEFuZ3VsYXJVdGlscy5qcyIsInNyY1xcdXRpbFxcQ29uZmlndXJhdGlvbi5qcyIsInNyY1xcdXRpbFxcRVM2RGlyZWN0aXZlLmpzIiwic3JjXFx1dGlsXFxTeW1ib2xzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OzhCQ09RLE07Ozs7Ozs7OzswQkFHQSxNOzs7Ozs7Ozs7dUJBR0EsVTs7Ozs7Ozs7O29CQUNBLE87Ozs7Ozs7OztzQkFDQSxTOzs7Ozs7Ozs7c0JBQ0EsUzs7Ozs7O3NCQUFXLEk7Ozs7Ozs7OzttQkFDWCxNOzs7Ozs7Ozs7bUJBQ0EsTTs7Ozs7Ozs7O2dCQUNBLEc7Ozs7Ozs7Oztp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QUFNLHdCQUFRLE9BQU8sUUFBUCxDQUFkO0FBQ0EsSUFBTSxzQkFBTyxPQUFPLE9BQVAsQ0FBYjtBQUNBLElBQU0sd0JBQVEsT0FBTyxRQUFQLENBQWQ7QUFDQSxJQUFNLHNCQUFPLE9BQU8sT0FBUCxDQUFiO0FBQ0EsSUFBTSw0QkFBVSxPQUFPLFVBQVAsQ0FBaEI7QUFDQSxJQUFNLHdCQUFRLE9BQU8sUUFBUCxDQUFkO0FBQ0EsSUFBTSxrQkFBSyxPQUFPLEtBQVAsQ0FBWDtBQUNBLElBQU0sOEJBQVcsT0FBTyxXQUFQLENBQWpCO0FBQ0EsSUFBTSxzQkFBTyxPQUFPLE9BQVAsQ0FBYjtBQUNBLElBQU0sd0JBQVEsT0FBTyxPQUFQLENBQWQ7QUFDQSxJQUFNLDBCQUFTLE9BQU8sUUFBUCxDQUFmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIGltcG9ydCBcIi4vaW50ZWdyYXRpb24vRVM2UHJvbWlzZUhvb2tcIiBERVBSRUNBVEVEIGZvciB0aGUgc2FrZSBvZiB6b25lLmpzXHJcbmltcG9ydCBcIi4vdXRpbC9Bbmd1bGFyTW9kdWxlUmVzb2x2ZXJcIiAvL0luaXRpYWxpemUgdGhlIHJlc29sdmVyIGF0IGxlYXN0IG9uY2VcclxuaW1wb3J0IFwiLi9pbnRlZ3JhdGlvbi9XYXRjaEl0ZXJhYmxlRml4XCJcclxuLy8gaW1wb3J0IFwiLi9pbnRlZ3JhdGlvbi9ORzJFdmVudEJpbmRpbmdcIiBzdGlsbCBleHBlcmltZW50YWxcclxuXHJcblxyXG4vL0V4cG9ydCB0aGUgYW5ndWxhciB6b25lXHJcbmV4cG9ydCB7Tmdab25lfSBmcm9tIFwiLi9pbnRlZ3JhdGlvbi9ab25lSlNJbnRlZ3JhdGlvblwiXHJcblxyXG4vL0V4cG9ydCBjb25maWdcclxuZXhwb3J0IHtjb25maWd9IGZyb20gXCIuL3V0aWwvQ29uZmlndXJhdGlvblwiXHJcblxyXG4vL0V4cG9ydCBkZWNvcmF0b3JzXHJcbmV4cG9ydCB7Q29udHJvbGxlcn0gZnJvbSBcIi4vZGVjb3JhdG9ycy9Db250cm9sbGVyXCJcclxuZXhwb3J0IHtTZXJ2aWNlfSBmcm9tIFwiLi9kZWNvcmF0b3JzL1NlcnZpY2VcIlxyXG5leHBvcnQge0RpcmVjdGl2ZX0gZnJvbSBcIi4vZGVjb3JhdG9ycy9EaXJlY3RpdmVcIlxyXG5leHBvcnQge0NvbXBvbmVudCwgQmluZH0gZnJvbSBcIi4vZGVjb3JhdG9ycy9Db21wb25lbnRcIlxyXG5leHBvcnQge0ZpbHRlcn0gZnJvbSBcIi4vZGVjb3JhdG9ycy9GaWx0ZXJcIlxyXG5leHBvcnQge0NvbmZpZ30gZnJvbSBcIi4vZGVjb3JhdG9ycy9Db25maWdcIlxyXG5leHBvcnQge1J1bn0gZnJvbSBcIi4vZGVjb3JhdG9ycy9SdW5cIlxyXG5leHBvcnQge1ZpZXd9IGZyb20gXCIuL2RlY29yYXRvcnMvVmlld1wiXHJcbmV4cG9ydCB7QWxpYXN9IGZyb20gXCIuL2RlY29yYXRvcnMvQWxpYXNcIlxyXG5leHBvcnQge1NlbGZ9IGZyb20gXCIuL2RlY29yYXRvcnMvU2VsZlwiXHJcbmV4cG9ydCB7U3RhdGV9IGZyb20gXCIuL2RlY29yYXRvcnMvU3RhdGVcIlxyXG5leHBvcnQge0luamVjdH0gZnJvbSBcIi4vZGVjb3JhdG9ycy9JbmplY3RcIlxyXG5leHBvcnQge0luaXQsIERlc3Ryb3ksIFdhdGNoLCBXYXRjaENvbGxlY3Rpb24sIE9uLCBEZWJvdW5jZSwgU2NoZWR1bGUsIEFic3RyYWN0fSBmcm9tIFwiLi9kZWNvcmF0b3JzL01ldGhvZERlY29yYXRvcnNcIiIsImltcG9ydCB7YWxpYXMgYXMgYWxpYXNTeW1ib2x9IGZyb20gXCIuLi91dGlsL1N5bWJvbHNcIlxyXG5cclxuLyoqXHJcbiAqIFNldHMgdGhlIGFsaWFzIGZvciBhIGNvbnRyb2xsZXIsIGNhbiBvbmx5IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBAU3RhdGVcclxuICogYW5kIEBDb21wb25lbnRcclxuICogQGRlY29yYXRvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEFsaWFzKGFsaWFzKVxyXG57XHJcbiAgICByZXR1cm4gKHRhcmdldCwgbmFtZSkgPT4ge1xyXG4gICAgICAgICh0YXJnZXRbbmFtZV0gfHwgdGFyZ2V0KVthbGlhc1N5bWJvbF0gPSBhbGlhcztcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7bW9kdWxlfSBmcm9tIFwiLi4vdXRpbC9Bbmd1bGFyTW9kdWxlUmVzb2x2ZXJcIlxyXG5pbXBvcnQge2RlY29yYXRlVmlld30gZnJvbSBcIi4vVmlld1wiXHJcbmltcG9ydCAqIGFzIHN5bWJvbHMgZnJvbSBcIi4uL3V0aWwvU3ltYm9sc1wiXHJcblxyXG4vKipcclxuICogRGVmaW5lcyB0aGUgY2xhc3MgYXMgQ29tcG9uZW50XHJcbiAqXHJcbiAqIEEgY29tcG9uZW50IGlzIHR5cGljYWxseSByZXN0cmljdGVkIHRvIFwiRVwiID0+IEVsZW1lbnQsIG1lYW5pbmcgaXQgd2lsbCBsb29rIGxpa2VcclxuICogPGNvbXBvbmVudD48L2NvbXBvbmVudD4gaW4gaHRtbC5cclxuICpcclxuICogWW91IGNhbiBjb25maWd1cmUgdGhlIGRlY29yYXRvciBlaXRoZXIganVzdCB3aXRoIHRoZSBjb21wb25lbnQgc2VsZWN0b3IgYXMgc3RyaW5nLCBvclxyXG4gKiB3aXRoIGEgdHlwaWNhbCBhbmd1bGFyIGRpcmVjdGl2ZSBjb25maWcgb2JqZWN0LCB0aGVyZSBhcmUgc29tZSBzaG9ydGN1dHMgYXZhaWxhYmxlOlxyXG4gKiAgLSBjb250cm9sbGVyQXMgPT4gYXNcclxuICogIC0gc2NvcGUgPT4gYmluZFxyXG4gKiAgLSB0ZW1wbGF0ZSA9PiB2aWV3XHJcbiAqXHJcbiAqICBBIENvbXBvbmVudCBkb2Vzbid0IHVzZSB0aGUgc2NvcGUsIGJ1dCBiaW5kcyBhbGwgcHJvcGVydGllcyB0byB0aGUgY29udHJvbGxlciBkaXJlY3RseSBpbnN0ZWFkLlxyXG4gKlxyXG4gKiAgSWYgeW91J3JlIHVzaW5nIGNsYXNzIHByb3BlcnRpZXMgeW91IGNhbiB1c2UgdGhlIEBCaW5kKFt0eXBlXSkgZGVjb3JhdG9yIHRvIGRpcmVjdGx5IGluZGljYXRlIHRoZVxyXG4gKiAgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSBib3VuZCB0byB0aGUgb3V0ZXIgc2NvcGVcclxuICpcclxuICogVGhlIEBDb21wb25lbnQgZGVjb3JhdG9yIGNhbiBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggQFZpZXcgYW5kIEBBbGlhcyBhbmQgQEJpbmQhXHJcbiAqXHJcbiAqIEBkZWNvcmF0b3JcclxuICogQHBhcmFtIG5hbWVcclxuICogQHBhcmFtIGNvbmZcclxuICogQGV4cG9ydHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBDb21wb25lbnQobmFtZSwgY29uZiA9IHt9KVxyXG57XHJcbiAgICBpZiAobmFtZS5jb25zdHJ1Y3RvciAhPSBTdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZSA9IG5hbWUuc2VsZWN0b3IgfHwgbmFtZS5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmYuY29udHJvbGxlckFzID0gY29uZi5hcyB8fCBjb25mLmNvbnRyb2xsZXJBcztcclxuICAgIGNvbmYucmVzdHJpY3QgPSBjb25mLnJlc3RyaWN0IHx8IFwiRVwiO1xyXG5cclxuICAgIGlmIChjb25mLmJpbmRpbmdzID09IGZhbHNlKSBjb25mLmJpbmRpbmdzID0gZmFsc2U7XHJcbiAgICBlbHNlIGNvbmYuYmluZGluZ3MgPSBjb25mLmJpbmRpbmdzIHx8IGNvbmYuYmluZCB8fCB7fTtcclxuXHJcbiAgICBpZiAoY29uZi5iaW5kaW5ncyA9PSBmYWxzZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29tcG9uZW50cyBtdXN0IGhhdmUgYW4gaXNvbGF0ZWQgYmluZGluZyEgaW4gJHtuYW1lfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmYudGVtcGxhdGUgPSBjb25mLnZpZXcgfHwgY29uZi50ZW1wbGF0ZTtcclxuXHJcbiAgICByZXR1cm4gdGFyZ2V0ID0+IHtcclxuICAgICAgICBjb25mLmNvbnRyb2xsZXIgPSB0YXJnZXQ7XHJcblxyXG4gICAgICAgIG1vZHVsZS50aGVuKG0gPT4ge1xyXG5cclxuICAgICAgICAgICAgbS5kaXJlY3RpdmUobmFtZSwgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vTWVyZ2UgQEJpbmQgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgY29uZi5iaW5kaW5ncyA9IE9iamVjdC5hc3NpZ24oY29uZi5iaW5kaW5ncyB8fCB7fSwgdGFyZ2V0W3N5bWJvbHMuYmluZF0gfHwge30pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbmYuY29udHJvbGxlckFzID0gdGFyZ2V0W3N5bWJvbHMuYWxpYXNdIHx8IGNvbmYuY29udHJvbGxlckFzIHx8IFwiJGN0cmxcIjtcclxuICAgICAgICAgICAgICAgIGNvbmYuYmluZFRvQ29udHJvbGxlciA9IGNvbmYuYmluZGluZ3M7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVjb3JhdGVWaWV3KHRhcmdldCwgY29uZik7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmY7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIGEgY2xhc3MgcHJvcGVydHkgYXMgYm91bmQgYXR0cmlidXRlXHJcbiAqIEBkZWNvcmF0b3JcclxuICogQHBhcmFtIGJpbmRUeXBlID0gb3IgJiBvciBAXHJcbiAqIEBwYXJhbSBbYXR0cmlidXRlTmFtZV0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSwgZGVmYXVsdHMgdG8gdGhlIHByb3BlcnR5IG5hbWVcclxuICogQHJldHVybiB7ZnVuY3Rpb24oKiwgKiwgKil9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQmluZChiaW5kVHlwZSwgYXR0cmlidXRlTmFtZSlcclxue1xyXG4gICAgcmV0dXJuICh0YXJnZXQsIG5hbWUsIGRlc2MpID0+IHtcclxuXHJcbiAgICAgICAgLy9TZXQgZGVmYXVsdCBhdHRyaWJ1dGUgbmFtZVxyXG4gICAgICAgIGlmICghYXR0cmlidXRlTmFtZSkgYXR0cmlidXRlTmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgIC8vQWRkIHRoZSBiaW5kIHByb3BlcnR5IHRvIHRoZSB0eXBlXHJcbiAgICAgICAgbGV0IHR5cGUgPSB0YXJnZXQuY29uc3RydWN0b3I7XHJcbiAgICAgICAgdHlwZVtzeW1ib2xzLmJpbmRdID0gdHlwZVtzeW1ib2xzLmJpbmRdIHx8IHt9O1xyXG4gICAgICAgIHR5cGVbc3ltYm9scy5iaW5kXVtuYW1lXSA9IGJpbmRUeXBlK2F0dHJpYnV0ZU5hbWU7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHdyaXRhYmxlIDogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWUgOiBkZXNjLnZhbHVlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge21vZHVsZX0gZnJvbSBcIi4uL3V0aWwvQW5ndWxhck1vZHVsZVJlc29sdmVyXCJcclxuaW1wb3J0IHtmZXRjaH0gZnJvbSBcIi4uL3V0aWwvQW5ndWxhclV0aWxzXCJcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIGEgbWV0aG9kIGFzIGNvbmZpZyBibG9ja1xyXG4gKiBAZGVjb3JhdG9yXHJcbiAqIEBleHBvcnRzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQ29uZmlnKHRhcmdldCwgbmFtZSkge1xyXG4gICAgdGFyZ2V0ID0gZmV0Y2godGFyZ2V0KTtcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBGdW5jdGlvbikgbW9kdWxlLnRoZW4obSA9PiBtLmNvbmZpZyh0YXJnZXQpKTtcclxuICAgIGVsc2UgbW9kdWxlLnRoZW4obSA9PiBtLmNvbmZpZyh0YXJnZXRbbmFtZV0pKTtcclxufSIsImltcG9ydCB7bW9kdWxlfSBmcm9tIFwiLi4vdXRpbC9Bbmd1bGFyTW9kdWxlUmVzb2x2ZXJcIlxyXG5pbXBvcnQge2ZldGNofSBmcm9tIFwiLi4vdXRpbC9Bbmd1bGFyVXRpbHNcIlxyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgYSBjbGFzcyBhcyBDb250cm9sbGVyLCBpZiBubyBuYW1lIGlzIHByb3ZpZGVkIGFrYSB0aGUgZGVjb3JhdG9yIGlzXHJcbiAqIHVzZWQgYXMgQENvbnRyb2xsZXIgdGhlbiB0aGUgY2xhc3MgbmFtZSBpcyB1c2VkIGFzIGNvbnRyb2xsZXIgbmFtZSwgeW91IGNhblxyXG4gKiBzcGVjaWZ5IHRoZSBuYW1lIGJ5IHVzaW5nIHRoZSBkZWNvcmF0b3IgbGlrZSBAQ29udHJvbGxlcihcIkNvbnRyb2xsZXJOYW1lXCIpIHRvXHJcbiAqIG1ha2UgdGhlIGRlY29yYXRvciBtaW5pZnkgc2FmZVxyXG4gKlxyXG4gKiBAZGVjb3JhdG9yXHJcbiAqIEBwYXJhbSB7c3RyaW5nIHwgZnVuY3Rpb259IFtjbGF6el1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBDb250cm9sbGVyKGNsYXp6KSB7XHJcbiAgICBjbGF6eiA9IGZldGNoKGNsYXp6KTtcclxuXHJcbiAgICAvL0Z1bmN0aW9uIHRvIGFkZCB0aGUgY29udHJvbGxlclxyXG4gICAgbGV0IGFkZENvbnRyb2xsZXIgPSAobmFtZSwgY2xhenopID0+IG1vZHVsZS50aGVuKG0gPT4gbS5jb250cm9sbGVyKG5hbWUsIGNsYXp6KSk7XHJcblxyXG4gICAgaWYgKGNsYXp6IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICBhZGRDb250cm9sbGVyKGNsYXp6Lm5hbWUsIGNsYXp6KTtcclxuICAgIH1cclxuICAgIGVsc2UgcmV0dXJuICh0YXJnZXQpID0+IHtcclxuICAgICAgICBhZGRDb250cm9sbGVyKGNsYXp6LCB0YXJnZXQpO1xyXG4gICAgfTtcclxufSIsImltcG9ydCB7bW9kdWxlfSBmcm9tIFwiLi4vdXRpbC9Bbmd1bGFyTW9kdWxlUmVzb2x2ZXJcIlxyXG5pbXBvcnQge2ZldGNofSBmcm9tIFwiLi4vdXRpbC9Bbmd1bGFyVXRpbHNcIlxyXG5pbXBvcnQgZXM2ZW5hYmxlciBmcm9tIFwiLi4vdXRpbC9FUzZEaXJlY3RpdmVcIlxyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgYSBjbGFzcyBvciBhIGNsYXNzIG1ldGhvZCBhcyBEaXJlY3RpdmUsIGlmIG5vIG5hbWUgaXMgcHJvdmlkZWQgYWthIHRoZSBkZWNvcmF0b3IgaXNcclxuICogdXNlZCBhcyBARGlyZWN0aXZlIHRoZW4gdGhlIGNsYXNzIG5hbWUgb3IgdGhlIG1ldGhvZCBuYW1lIGlzIHVzZWQgYXMgZGlyZWN0aXZlIG5hbWUsIHlvdSBjYW5cclxuICogc3BlY2lmeSB0aGUgbmFtZSBieSB1c2luZyB0aGUgZGVjb3JhdG9yIGxpa2UgQERpcmVjdGl2ZShcIm15RGlyZWN0aXlcIikgdG9cclxuICogbWFrZSB0aGUgZGVjb3JhdG9yIG1pbmlmeSBzYWZlXHJcbiAqXHJcbiAqIEBkZWNvcmF0b3JcclxuICogQHBhcmFtIHtzdHJpbmcgfCBmdW5jdGlvbn0gY2xhenpcclxuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXVxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAqIEBleHBvcnRzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gRGlyZWN0aXZlKGNsYXp6LCBuYW1lKSB7XHJcbiAgICBjbGF6eiA9IGZldGNoKGNsYXp6KTtcclxuXHJcbiAgICBsZXQgcmVnaXN0ZXJEaXJlY3RpdmUgPSAobmFtZSwgZm4pID0+IG1vZHVsZS50aGVuKG0gPT4gbS5kaXJlY3RpdmUobmFtZSwgZXM2ZW5hYmxlcihmbikpKTtcclxuXHJcbiAgICBpZiAoY2xhenouY29uc3RydWN0b3IgIT0gU3RyaW5nKSAvL0RpcmVjdGl2ZSBpcyBjYWxsZWQgd2l0aG91dCBuYW1lID0+IEBEaXJlY3RpdmVcclxuICAgIHtcclxuICAgICAgICBpZiAoY2xhenogaW5zdGFuY2VvZiBGdW5jdGlvbikgcmVnaXN0ZXJEaXJlY3RpdmUoY2xhenoubmFtZSwgY2xhenopOyAvL0NsYXNzXHJcbiAgICAgICAgZWxzZSByZWdpc3RlckRpcmVjdGl2ZShuYW1lLCBjbGF6eltuYW1lXSk7IC8vQ2xhc3MgbWV0aG9kXHJcbiAgICB9XHJcbiAgICBlbHNlIHJldHVybiAodGFyZ2V0LCBuKSA9PiB7IC8vRGlyZWN0aXZlIGlzIGNhbGxlZCB3aXRob3V0IG5hbWUgPT4gQERpcmVjdGl2ZShcIm15RGlyZWN0aXZlXCIpXHJcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSByZWdpc3RlckRpcmVjdGl2ZShjbGF6eiwgdGFyZ2V0KTsgLy9DbGFzc1xyXG4gICAgICAgIGVsc2UgcmVnaXN0ZXJEaXJlY3RpdmUobiwgdGFyZ2V0W25dKTsgLy9DbGFzcyBtZXRob2RcclxuICAgIH07XHJcbn0iLCJpbXBvcnQge21vZHVsZX0gZnJvbSBcIi4uL3V0aWwvQW5ndWxhck1vZHVsZVJlc29sdmVyXCJcclxuaW1wb3J0IHtmZXRjaH0gZnJvbSBcIi4uL3V0aWwvQW5ndWxhclV0aWxzXCJcclxuXHJcbi8qKlxyXG4gKiBSRWdpc3RlcnMgYSBtZXRob2QgYXMgYW4gYW5ndWxhciBGaWx0ZXJcclxuICogSWYgdXNlZCBsaWtlIEBGaWx0ZXIgdGhlIG1ldGhvZCBuYW1lIHdpbGwgYmUgY2hvc2VuIGFzIGZpbHRlciBuYW1lLFxyXG4gKiBBbHRlcm5hdGl2ZWx5IHlvdSBjYW4gZ2l2ZSB0aGUgZmlsdGVyIG5hbWUgYXMgYXJndW1lbnQsIHlvdXIgbWV0aG9kIHdpbGwgdGhlbiBsb29rXHJcbiAqIGxpa2UgQEZpbHRlcihcIm15RmlsdGVyXCIpLi4uXHJcbiAqIEBkZWNvcmF0b3JcclxuICogQGV4cG9ydHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBGaWx0ZXIoY2xhenosIG1ldGhvZCkge1xyXG4gICAgY2xhenogPSBmZXRjaChjbGF6eik7XHJcblxyXG4gICAgLy9GdW5jdGlvbiB0byBhZGQgdGhlIGNvbnRyb2xsZXJcclxuICAgIGxldCByZWdpc3RlckZpbHRlciA9IChuYW1lLCBmbikgPT4gbW9kdWxlLnRoZW4obSA9PiBtLmZpbHRlcihuYW1lLCBmbikpO1xyXG5cclxuICAgIGlmIChjbGF6ei5jb25zdHJ1Y3RvciAhPSBTdHJpbmcpIHsgLy9XaXRoIG1ldGhvZCBuYW1lIGFzIGZpbHRlciBuYW1lXHJcbiAgICAgICAgcmVnaXN0ZXJGaWx0ZXIobWV0aG9kLCBjbGF6elttZXRob2RdKTtcclxuICAgIH1cclxuICAgIGVsc2UgcmV0dXJuICh0YXJnZXQsIG1ldGhvZCkgPT4geyAvL1dpdGggc3BlY2lmaWVkIG5hbWVcclxuICAgICAgICByZWdpc3RlckZpbHRlcihjbGF6eiwgdGFyZ2V0W21ldGhvZF0pO1xyXG4gICAgfTtcclxufSIsImltcG9ydCB7YW5ndWxhckluamVjdG9yLCBtb2R1bGV9IGZyb20gXCIuLi91dGlsL0FuZ3VsYXJNb2R1bGVSZXNvbHZlclwiXHJcbmltcG9ydCAqIGFzIHN5bWJvbHMgZnJvbSBcIi4uL3V0aWwvU3ltYm9sc1wiXHJcbmltcG9ydCB7Y2FsbEFubm90YXRpb25zfSBmcm9tIFwiLi4vdXRpbC9Bbmd1bGFyVXRpbHNcIlxyXG5cclxuLyoqXHJcbiAqIEluamVjdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBpbnRvIHRoZSBvYmplY3Q6XHJcbiAqICAgICAgLSBzZXJ2aWNlc1xyXG4gKiAgICAgIC0gJHNjb3BlXHJcbiAqICAgICAgLSBhbnkgJHNjb3BlIHZhcmlhYmxlXHJcbiAqXHJcbiAqIHRoZSB2YXJpYWJsZTogdXNhZ2UgPT5cclxuICogY2xhc3MgZm9vIHtcclxuICogICAgICBASW5qZWN0ICR0aW1lb3V0O1xyXG4gKiAgICAgIEBJbmplY3QoXCIkdGltZW91dFwiKSB0bW91dDtcclxuICogICAgICBASW5qZWN0IGZvb0N0cmxcclxuICogICAgICBASW5qZWN0IHNjb3BlVmFyXHJcbiAqICAgICAgQEluamVjdCAkc2NvcGVcclxuICpcclxuICogICAgICBjb25zdHJ1Y3RvcigpXHJcbiAqICAgICAge1xyXG4gKiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiR0aW1lb3V0LCB0aGlzLnRtb3V0KTtcclxuICogICAgICB9XHJcbiAqIH1cclxuICpcclxuICogQXR0ZW50aW9uISBUaGUgcHJvcGVydHkgd29uJ3QgZ2V0IGluamVjdGVkIGluc3RhbnRseSwgYnV0IGEgZ2V0dGVyXHJcbiAqIHdoaWNoIHdpbGwgcmVwbGFjZSBpdHNlbGYgd2l0aCB0aGUgcmVzb2x2ZWQgb2JqZWN0IG9uIHRoZSBmaXJzdCBjYWxsLFxyXG4gKiB3aXRoIHRoaXMgdGVjaG5pcXVlIHdlJ3JlIGFibGUgdG8gcmVzb2x2ZSBjaXJjdWxhciBkZXBlbmRlbmNpZXMgc29tZXRpbWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB0YXJnZXRcclxuICogQHBhcmFtIG5hbWVcclxuICogQHBhcmFtIGRlc2NyaXB0b3JcclxuICogQGRlY29yYXRvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEluamVjdCh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpXHJcbntcclxuICAgIGxldCBmaWVsZE5hbWU7XHJcbiAgICBsZXQgaW5qZWN0b3IgPSAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSA9PlxyXG4gICAge1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgdXNlIEBJbmplY3Qgb24gYSBtZXRob2RcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXQgOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGZpZWxkTmFtZSwge3ZhbHVlLCB3cml0YWJsZSA6IHRydWV9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IDogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0ICRpbmplY3RvciA9IGFuZ3VsYXJJbmplY3RvcigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5qZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jYWxzID0gdGhpc1tzeW1ib2xzLmxvY2Fsc10gfHwgY3VycmVudExvY2FscztcclxuXHJcbiAgICAgICAgICAgICAgICAvL0xvY2FsZVxyXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FscyAmJiAobG9jYWxzLmhhc093blByb3BlcnR5KG5hbWUpIHx8IGxvY2Fsc1tuYW1lXSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGxvY2Fsc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9TZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgkaW5qZWN0b3IuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gJGluamVjdG9yLmdldChuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8kc2NvcGUgb3IgcGFyZW50IHNjb3BlIHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2NhbHMgJiYgbG9jYWxzLiRzY29wZSAmJiAoUmVmbGVjdC5oYXNPd25Qcm9wZXJ0eShsb2NhbHMuJHNjb3BlLCBuYW1lKSB8fCBsb2NhbHMuJHNjb3BlW25hbWVdKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gbG9jYWxzLiRzY29wZVtuYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFdhc24ndCBhYmxlIHRvIEBJbmplY3QgJHtuYW1lfSBhcyAke2ZpZWxkTmFtZX0gaW50byAke3RhcmdldC5jb25zdHJ1Y3Rvci5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgZmllbGROYW1lLCB7dmFsdWUgOiBvYmosIHdyaXRhYmxlIDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgZmllbGROYW1lID0gbmFtZTtcclxuICAgICAgICByZXR1cm4gaW5qZWN0b3IodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBuYW1lUmVwbGFjZW1lbnQgPSB0YXJnZXQ7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xyXG4gICAgICAgICAgICBmaWVsZE5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5qZWN0b3IodGFyZ2V0LCBuYW1lUmVwbGFjZW1lbnQsIGRlc2NyaXB0b3IpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5sZXQgY3VycmVudExvY2FscyA9IHVuZGVmaW5lZDtcclxubW9kdWxlLnRoZW4obSA9PiBtLmNvbmZpZyhbXCIkcHJvdmlkZVwiLCBmdW5jdGlvbigkcHJvdmlkZSl7XHJcbiAgICAkcHJvdmlkZS5kZWNvcmF0b3IoXCIkY29udHJvbGxlclwiLCBbXCIkZGVsZWdhdGVcIiwgZnVuY3Rpb24oJGRlbGVnYXRlKXtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXhwcmVzc2lvbiwgbG9jYWxzLCBsYXRlciwgaWRlbnQpe1xyXG5cclxuICAgICAgICAgICAgLy9Gb3IgdXNhZ2UgaW4gY29uc3RydWN0b3JcclxuICAgICAgICAgICAgY3VycmVudExvY2FscyA9IGxvY2FscztcclxuXHJcbiAgICAgICAgICAgIC8vQ3JlYXRlIHRoZSBjb250cm9sbGVyXHJcbiAgICAgICAgICAgIGxldCBjb250cm9sbGVyID0gJGRlbGVnYXRlKGV4cHJlc3Npb24sIGxvY2FscywgbGF0ZXIsIGlkZW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vUmVzZXQgdGhlIGxvY2Fsc1xyXG4gICAgICAgICAgICBjdXJyZW50TG9jYWxzID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgLy9DaGVjayBpZiBpdHMgYW4gb2JqZWN0XHJcbiAgICAgICAgICAgIGlmICghbGF0ZXIpe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcltzeW1ib2xzLmxvY2Fsc10gPSBsb2NhbHM7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyW3N5bWJvbHMuc2NvcGVdID0gbG9jYWxzLiRzY29wZTtcclxuICAgICAgICAgICAgICAgIGNhbGxBbm5vdGF0aW9ucyhjb250cm9sbGVyLCBsb2NhbHMuJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExvY2FscyA9IGxvY2FscztcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYyA9IGNvbnRyb2xsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TG9jYWxzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNbc3ltYm9scy5sb2NhbHNdID0gbG9jYWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNbc3ltYm9scy5zY29wZV0gPSBsb2NhbHMuJHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxBbm5vdGF0aW9ucyhjLCBsb2NhbHMuJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxufV0pKTtcclxuIiwiaW1wb3J0IHthbmd1bGFySW5qZWN0b3J9IGZyb20gXCIuLi91dGlsL0FuZ3VsYXJNb2R1bGVSZXNvbHZlclwiXHJcbmltcG9ydCAqIGFzIHN5bWJvbHMgZnJvbSBcIi4uL3V0aWwvU3ltYm9sc1wiXHJcblxyXG4vLyBUaGlzIGZpbGUgY29udGFpbnMgdGhlIGZvbGxvd2luZyBkZWNvcmF0b3JzXHJcbi8vIEBJbml0XHJcbi8vIEBEZXN0cm95XHJcbi8vIEBXYXRjaFxyXG4vLyBAV2F0Y2hDb2xsZWN0aW9uXHJcbi8vIEBPblxyXG4vLyBARGVib3VuY2VcclxuLy8gQEFic3RyYWN0XHJcblxyXG4vKipcclxuICogRXhlY3V0ZXMgYWxsIE1ldGhvZHMgYW5ub3RhdGVkIHdpdGggdGhpcyBhbm5vdGF0aW9uIGFmdGVyXHJcbiAqIHRoZSBvYmplY3QgaGFzIGJlZW4gY3JlYXRlZFxyXG4gKlxyXG4gKiBPbmx5IHdvcmtpbmcgaW4gc2VydmljZXMgYW5kIGNvbnRyb2xsZXJzIVxyXG4gKlxyXG4gKiBAZGVjb3JhdG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gSW5pdCh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3Ipe1xyXG4gICAgaWYgKCFkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQEluaXQgY2FuIG9ubHkgYmUgdXNlZCBvbiBjbGFzcyBtZXRob2RzXCIpO1xyXG4gICAgfVxyXG4gICAgdGFyZ2V0W3N5bWJvbHMuaW5pdF0gPSB0YXJnZXRbc3ltYm9scy5pbml0XSB8fCBbXTtcclxuICAgIHRhcmdldFtzeW1ib2xzLmluaXRdLnB1c2gobmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFeGVjdXRlcyBhbGwgTWV0aG9kcyBhbm5vdGF0ZWQgd2l0aCB0aGlzIGFubm90YXRpb24gYWZ0ZXJcclxuICogdGhlIG9iamVjdCBnZXRzIGRlc3Ryb3llZC5cclxuICpcclxuICogT25seSB1c2FibGUgaW4gY29udHJvbGxlcnMhXHJcbiAqXHJcbiAqIEBwYXJhbSB0YXJnZXRcclxuICogQHBhcmFtIG5hbWVcclxuICogQGV4cG9ydHNcclxuICogQGRlY29yYXRvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIERlc3Ryb3kodGFyZ2V0LCBuYW1lKXtcclxuICAgIHRhcmdldFtzeW1ib2xzLmRlc3Ryb3ldID0gdGFyZ2V0W3N5bWJvbHMuZGVzdHJveV0gfHwgW107XHJcbiAgICB0YXJnZXRbc3ltYm9scy5kZXN0cm95XS5wdXNoKG5hbWUpO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0cyBhICR3YXRjaCBvbiB0aGUgZ2l2ZW4gY29udHJvbGxlciBldmFsdWF0aW9uLCB0aGUgbWV0aG9kIHdpbGwgYmUgdXNlZFxyXG4gKiBhcyByZWd1bGFyICR3YXRjaCBjYWxsYmFjay5cclxuICpcclxuICogSWYgeW91ciBjb250cm9sbGVyIGhhcyBhIHByb3BlcnR5IFwiZm9vXCIgdGhlIGZvbGxvd2luZyBtZXRob2Qgd291bGQgd2F0Y2ggZm9yXHJcbiAqIGNoYW5nZXMgb24gXCJmb29cIlxyXG4gKlxyXG4gKiBcXEBXYXRjaChcImZvb1wiKVxyXG4gKiBmb29DaGFuZ2VkKG5ld1ZhbCwgb2xkVmFsKVxyXG4gKiB7XHJcbiAqICAuLi4uLi4uLlxyXG4gKiB9XHJcbiAqXHJcbiAqIEBwYXJhbSBwcm9wZXJ0eVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWVwXVxyXG4gKiBAZXhwb3J0c1xyXG4gKiBAZGVjb3JhdG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gV2F0Y2gocHJvcGVydHksIGRlZXAgPSBmYWxzZSl7XHJcblxyXG4gICAgcmV0dXJuICh0YXJnZXQsIG5hbWUpID0+IHtcclxuICAgICAgICB0YXJnZXRbc3ltYm9scy53YXRjaF0gPSB0YXJnZXRbc3ltYm9scy53YXRjaF0gfHwgW107XHJcbiAgICAgICAgdGFyZ2V0W3N5bWJvbHMud2F0Y2hdLnB1c2goe3Byb3BlcnR5LCBuYW1lLCBkZWVwLCBjb2xsZWN0aW9uIDogZmFsc2V9KTtcclxuICAgIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTYW1lIGFzIEBXYXRjaCBidXQgZm9yIGNvbGxlY3Rpb25zXHJcbiAqIEBwYXJhbSBbcHJvcGVydHldXHJcbiAqIEBleHBvcnRzXHJcbiAqIEBkZWNvcmF0b3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBXYXRjaENvbGxlY3Rpb24ocHJvcGVydHkpe1xyXG5cclxuICAgIHJldHVybiAodGFyZ2V0LCBuYW1lKSA9PiB7XHJcbiAgICAgICAgdGFyZ2V0W3N5bWJvbHMud2F0Y2hdID0gdGFyZ2V0W3N5bWJvbHMud2F0Y2hdIHx8IFtdO1xyXG4gICAgICAgIHRhcmdldFtzeW1ib2xzLndhdGNoXS5wdXNoKHtwcm9wZXJ0eSwgbmFtZSwgZmFsc2UsIGNvbGxlY3Rpb24gOiB0cnVlfSk7XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICogU2NoZWR1bGVzIHRoZSBtZXRob2Qgc28gaXQgd2lsbCBnZXQgZXhlY3V0ZWQgZXZlcnkgbiBtaWxsaXNlY29uZHNcclxuICogQHBhcmFtIGludGVydmFsIGluIG1pbGxpc2Vjb25kc1xyXG4gKiBAZGVjb3JhdG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gU2NoZWR1bGUoaW50ZXJ2YWwpXHJcbntcclxuICAgIHJldHVybiAodGFyZ2V0LCBuYW1lLCBkZXNjKSA9PiB7XHJcbiAgICAgICAgdGFyZ2V0W3N5bWJvbHMuc2NoZWR1bGVdID0gdGFyZ2V0W3N5bWJvbHMuc2NoZWR1bGVdIHx8IFtdO1xyXG4gICAgICAgIHRhcmdldFtzeW1ib2xzLnNjaGVkdWxlXS5wdXNoKHtpbnRlcnZhbCwgbmFtZX0pXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlcnMgdGhlIG1ldGhvZCBhcyBhbiBldmVudGhhbmRsZXIgdmlhICRzY29wZS4kb25cclxuICpcclxuICogXFxAT24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNcIilcclxuICogc3RhdGVDaGFuZ2VkKG5ld1N0YXRlLCBvbGRTdGF0ZSAuLi4pXHJcbiAqIHtcclxuICogIC4uLi4uLi5cclxuICogfVxyXG4gKlxyXG4gKiBAcGFyYW0gZXZlbnRcclxuICogQGRlY29yYXRvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIE9uKGV2ZW50KVxyXG57XHJcbiAgICByZXR1cm4gKHRhcmdldCwgbmFtZSwgZGVzYykgPT4ge1xyXG4gICAgICAgIHRhcmdldFtzeW1ib2xzLm9uXSA9IHRhcmdldFtzeW1ib2xzLm9uXSB8fCBbXTtcclxuICAgICAgICB0YXJnZXRbc3ltYm9scy5vbl0ucHVzaCh7ZXZlbnQsIG5hbWV9KVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIERlYm91bmNlcyB0aGUgbWV0aG9kIHNvIGl0IHdpbGwgb25seSBnZXQgZXhlY3V0ZWQgYWZ0ZXIgaXQgaGFzbid0IGJlZW4gY2FsbGVkXHJcbiAqIGZvciBuIG1pbGxpc1xyXG4gKlxyXG4gKiBAcGFyYW0gbWlsbGlzXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FuZ3VsYXJUaW1lb3V0PXRydWVdIC0gaWYgZmFsc2UgdGhlIHdpbmRvdyB0aW1lb3V0IHdpbGwgZ2V0IHVzZWRcclxuICogQHJldHVybnMge0Z1bmN0aW9ufVxyXG4gKiBAZGVjb3JhdG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gRGVib3VuY2UobWlsbGlzLCBhbmd1bGFyVGltZW91dCA9IHRydWUpXHJcbntcclxuICAgIHJldHVybiAodGFyZ2V0LCBuYW1lLCBkZXNjKSA9PiB7XHJcbiAgICAgICAgbGV0IHRpbWVvdXQ7XHJcbiAgICAgICAgbGV0IGZuID0gZGVzYy52YWx1ZTtcclxuICAgICAgICBkZXNjLnZhbHVlID0gZnVuY3Rpb24oLi4uYXJncyl7XHJcblxyXG4gICAgICAgICAgICAvL1NldHVwXHJcbiAgICAgICAgICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgICAgICAgICAgbGV0IHRpbWVvdXRGbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBmbi5hcHBseShjb250ZXh0LGFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9Vc2UgYW5ndWxhciAkdGltZW91dCAoJGFwcGx5IGN5Y2xlKVxyXG4gICAgICAgICAgICBpZiAoYW5ndWxhclRpbWVvdXQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCAkdGltZW91dCA9IGFuZ3VsYXJJbmplY3RvcigpLmdldChcIiR0aW1lb3V0XCIpO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgdGltZW91dCA9ICR0aW1lb3V0KHRpbWVvdXRGbiwgbWlsbGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL1VzZSB3aW5kb3cgdGltZW91dFxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KHRpbWVvdXRGbiwgbWlsbGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE1hcmtzIGEgbWV0aG9kIGFzIGFic3RyYWN0LCB0aGlzIG1lYW5zIHRoZSBtZXRob2Qgd2lsbCBnZXQgcmVwbGFjZWRcclxuICogd2l0aCBvbmUgdGhhdCB0aHJvd3MgYW4gZXJyb3Igd2hlbiBjYWxsZWQgc2F5aW5nIHRoZSBtZXRob2RcclxuICogaXMgbm90IGltcGxlbWVudGVkXHJcbiAqIEBwYXJhbSB0YXJnZXRcclxuICogQHBhcmFtIG5hbWVcclxuICogQHBhcmFtIGRlc2NcclxuICogQGRlY29yYXRvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEFic3RyYWN0KHRhcmdldCwgbmFtZSwgZGVzYylcclxue1xyXG4gICAgZGVzYy52YWx1ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3RhcmdldC5uYW1lfUAke25hbWV9IGlzIG5vdCBpbXBsZW1lbnRlZCAoQWJzdHJhY3QpYCk7XHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHttb2R1bGV9IGZyb20gXCIuLi91dGlsL0FuZ3VsYXJNb2R1bGVSZXNvbHZlclwiXHJcbmltcG9ydCB7ZmV0Y2h9IGZyb20gXCIuLi91dGlsL0FuZ3VsYXJVdGlsc1wiXHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhIG1ldGhvZCBhcyBydW4gYmxvY2tcclxuICogQGRlY29yYXRvclxyXG4gKiBAZXhwb3J0c1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFJ1bih0YXJnZXQsIG5hbWUpIHtcclxuICAgIHRhcmdldCA9IGZldGNoKHRhcmdldCk7XHJcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgRnVuY3Rpb24pIG1vZHVsZS50aGVuKG0gPT4gbS5ydW4odGFyZ2V0KSk7XHJcbiAgICBlbHNlIG1vZHVsZS50aGVuKG0gPT4gbS5ydW4odGFyZ2V0W25hbWVdKSk7XHJcbn0iLCIvKipcclxuICogVGhlIGRlY29yYXRvciBtYXkgYmUgdXNlZCBvbiBjbGFzc2VzIG9yIG1ldGhvZHNcclxuICogYGBgXHJcbiAqIEBTZWxmXHJcbiAqIGNsYXNzIEZ1bGxCb3VuZCB7fVxyXG4gKlxyXG4gKiBjbGFzcyBQYXJ0Qm91bmQge1xyXG4gKiAgIEBTZWxmXHJcbiAqICAgbWV0aG9kICgpIHt9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEBkZWNvcmF0b3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTZWxmKC4uLmFyZ3MpIHtcclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBib3VuZENsYXNzKC4uLmFyZ3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYm91bmRNZXRob2QoLi4uYXJncyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2UgYm91bmRNZXRob2QgdG8gYmluZCBhbGwgbWV0aG9kcyBvbiB0aGUgdGFyZ2V0LnByb3RvdHlwZVxyXG4gKi9cclxuZnVuY3Rpb24gYm91bmRDbGFzcyh0YXJnZXQpIHtcclxuICAgIC8vIChVc2luZyByZWZsZWN0IHRvIGdldCBhbGwga2V5cyBpbmNsdWRpbmcgc3ltYm9scylcclxuICAgIGxldCBrZXlzO1xyXG4gICAgLy8gVXNlIFJlZmxlY3QgaWYgZXhpc3RzXHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBSZWZsZWN0Lm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBrZXlzID0gUmVmbGVjdC5vd25LZXlzKHRhcmdldC5wcm90b3R5cGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0LnByb3RvdHlwZSk7XHJcbiAgICAgICAgLy8gdXNlIHN5bWJvbHMgaWYgc3VwcG9ydCBpcyBwcm92aWRlZFxyXG4gICAgICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQucHJvdG90eXBlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIC8vIElnbm9yZSBzcGVjaWFsIGNhc2UgdGFyZ2V0IG1ldGhvZFxyXG4gICAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldC5wcm90b3R5cGUsIGtleSk7XHJcblxyXG4gICAgICAgIC8vIE9ubHkgbWV0aG9kcyBuZWVkIGJpbmRpbmdcclxuICAgICAgICBpZiAodHlwZW9mIGRlc2NyaXB0b3IudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldC5wcm90b3R5cGUsIGtleSwgYm91bmRNZXRob2QodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gYSBkZXNjcmlwdG9yIHJlbW92aW5nIHRoZSB2YWx1ZSBhbmQgcmV0dXJuaW5nIGEgZ2V0dGVyXHJcbiAqIFRoZSBnZXR0ZXIgd2lsbCByZXR1cm4gYSAuYmluZCB2ZXJzaW9uIG9mIHRoZSBmdW5jdGlvblxyXG4gKiBhbmQgbWVtb2l6ZSB0aGUgcmVzdWx0IGFnYWluc3QgYSBzeW1ib2wgb24gdGhlIGluc3RhbmNlXHJcbiAqL1xyXG5mdW5jdGlvbiBib3VuZE1ldGhvZCh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xyXG4gICAgbGV0IGZuID0gZGVzY3JpcHRvci52YWx1ZTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBAU2VsZiBkZWNvcmF0b3IgY2FuIG9ubHkgYmUgYXBwbGllZCB0byBtZXRob2RzIG5vdDogJHt0eXBlb2YgZm59YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZ2V0IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuICguLi5wYXJhbXMpID0+IGZuLmNhbGwoc2VsZiwgLi4ucGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHttb2R1bGV9IGZyb20gXCIuLi91dGlsL0FuZ3VsYXJNb2R1bGVSZXNvbHZlclwiXHJcbmltcG9ydCB7ZmV0Y2h9IGZyb20gXCIuLi91dGlsL0FuZ3VsYXJVdGlsc1wiXHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhIGNsYXNzIGFzIFNlcnZpY2UsIGlmIG5vIG5hbWUgaXMgcHJvdmlkZWQgYWthIHRoZSBkZWNvcmF0b3IgaXNcclxuICogdXNlZCBhcyBAU2VydmljZSB0aGVuIHRoZSBjbGFzcyBuYW1lIGlzIHVzZWQgYXMgc2VydmljZSBuYW1lLCB5b3UgY2FuXHJcbiAqIHNwZWNpZnkgdGhlIG5hbWUgYnkgdXNpbmcgdGhlIGRlY29yYXRvciBsaWtlIEBTZXJ2aWNlKFwiU2VydmljZU5hbWVcIikgdG9cclxuICogbWFrZSB0aGUgZGVjb3JhdG9yIG1pbmlmeSBzYWZlXHJcbiAqXHJcbiAqIEBkZWNvcmF0b3JcclxuICogQHBhcmFtIHtzdHJpbmcgfCBmdW5jdGlvbn0gW2NsYXp6XVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFNlcnZpY2UoY2xhenopIHtcclxuICAgIGNsYXp6ID0gZmV0Y2goY2xhenopO1xyXG5cclxuICAgIC8vRnVuY3Rpb24gdG8gYWRkIHRoZSBjb250cm9sbGVyXHJcbiAgICBsZXQgYWRkU2VydmljZSA9IChuYW1lLCBjbGF6eikgPT4gbW9kdWxlLnRoZW4obSA9PiBtLnNlcnZpY2UobmFtZSwgY2xhenopKTtcclxuXHJcbiAgICBpZiAoY2xhenogaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgIGFkZFNlcnZpY2UoY2xhenoubmFtZSwgY2xhenopO1xyXG4gICAgfVxyXG4gICAgZWxzZSByZXR1cm4gKHRhcmdldCkgPT4ge1xyXG4gICAgICAgIGFkZFNlcnZpY2UoY2xhenosIHRhcmdldCk7XHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHtDb250cm9sbGVyfSBmcm9tIFwiLi9Db250cm9sbGVyXCJcclxuaW1wb3J0IHttb2R1bGV9IGZyb20gXCIuLi91dGlsL0FuZ3VsYXJNb2R1bGVSZXNvbHZlclwiXHJcbmltcG9ydCB7ZGVjb3JhdGVWaWV3fSBmcm9tIFwiLi9WaWV3XCJcclxuaW1wb3J0IHtjb25maWd9IGZyb20gXCIuLi91dGlsL0NvbmZpZ3VyYXRpb25cIlxyXG5pbXBvcnQgKiBhcyBzeW1ib2xzIGZyb20gXCIuLi91dGlsL1N5bWJvbHNcIlxyXG5cclxuLyoqXHJcbiAqIEFuZ3VsYXIgVUkgUm91dGVyIHN1cHBvcnRcclxuICpcclxuICogV2l0aCB0aGlzIERlY29yYXRvciB5b3UgYXJlIGFibGUgdG8gZGVjb3JhdGUgYW55IGNsYXNzIHdpdGggQFN0YXRlLFxyXG4gKiBhcyBwYXJhbWV0ZXIgeW91IHdpbGwgZ2l2ZSB0aGUgdXN1YWwgc3RhdGUgY29uZmlnXHJcbiAqXHJcbiAqIEluIGFkZGl0aW9uIHlvdSBjYW4gc3BlY2lmeSBhIGRlZmF1bHQgc3RhdGUgYnkgYWRkaW5nIGRlZmF1bHQgOiB0cnVlXHJcbiAqIHRvIHRoZSBzdGF0ZSBjb25maWcsIHRoaXMgc3RhdGUgd2lsbCBiZSBjYWxsZWQgd2hlbiBhIDQwNCBha2EgYSBtaXNzaW5nXHJcbiAqIHVybCBpcyByZXF1ZXN0ZWQuIFlvdSdyZSBhbHNvIGFibGUgdG8gc2hvcnRlbiBjb250cm9sbGVyQVMgdG8gYXMuXHJcbiAqXHJcbiAqIFRoZSBjbGFzcyB3aGljaCBpcyBiZWluZyBkZWNvcmF0ZWQgd2l0aCBAU3RhdGUgd2lsbCB3b3JrIGFzIGNvbnRyb2xsZXJcclxuICogZm9yIHRoZSBzcGVjaWZpZWQgc3RhdGVcclxuICpcclxuICogVGhlIFN0YXRlIGRlY29yYXRvciB3b3JrcyBiZXN0IHdpdGggQEFsaWFzIGFuZCBAVmlld1xyXG4gKlxyXG4gKiBAZGVjb3JhdG9yXHJcbiAqIEBwYXJhbSBjb25mXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cclxuICogQGV4cG9ydHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTdGF0ZShjb25mKVxyXG57XHJcbiAgICByZXR1cm4gdGFyZ2V0ID0+IHtcclxuICAgICAgICB0YXJnZXRbc3ltYm9scy5zdGF0ZV0gPSBjb25mO1xyXG4gICAgICAgIENvbnRyb2xsZXIodGFyZ2V0KTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogVHJpZXMgdG8gY29uZmlndXJlIHRoZSBzdGF0ZSBmcm9tIHRoZSAkJHN0YXRlIHZhciBvblxyXG4gKiB0aGUgYWxsIGNvbnRyb2xsZXJzXHJcbiAqIEBwYXJhbSBjbGF6elxyXG4gKi9cclxubW9kdWxlLnRoZW4oIG0gPT4ge1xyXG4gICAgbS5jb25maWcoW1wiJGluamVjdG9yXCIsIGZ1bmN0aW9uICgkaW5qZWN0b3IpIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcblxyXG4gICAgICAgIGxldCByZWdpc3RlcmVkQ29udHJvbGxlcnMgPSBbXTtcclxuICAgICAgICBsZXQgc3RhdGVzID0gW107XHJcblxyXG4gICAgICAgIC8vRmluZCBldmVyeSBzdGF0ZSBjb250cm9sbGVyXHJcbiAgICAgICAgbS5faW52b2tlUXVldWUuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvbnN0cnVjdG9yID0gaXRlbVsyXVsxXTtcclxuICAgICAgICAgICAgaWYgKHJlZ2lzdGVyZWRDb250cm9sbGVycy5maW5kKCh0KSA9PiB0LnR5cGUgPT0gY29uc3RydWN0b3IpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChjb25zdHJ1Y3RvcltzeW1ib2xzLnN0YXRlXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3Jbc3ltYm9scy5zdGF0ZV0uY2xhenogPSBjb25zdHJ1Y3RvcjtcclxuICAgICAgICAgICAgICAgIHN0YXRlcy5wdXNoKGNvbnN0cnVjdG9yW3N5bWJvbHMuc3RhdGVdKTtcclxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWRDb250cm9sbGVycy5wdXNoKHt0eXBlOiBjb25zdHJ1Y3Rvcn0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vUmV0dXJuIGlmIHVpLXJvdXRlciBpcyBub3QgaW5zdGFsbGVkXHJcbiAgICAgICAgaWYgKCEkaW5qZWN0b3IuaGFzKFwiJHN0YXRlUHJvdmlkZXJcIikpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdGF0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6IEBTdGF0ZSBpcyB1c2VkIGJ1dCB1aS1yb3V0ZXIgaXMgbm90IGluc3RhbGxlZCFcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0ZldGNoIHRoZSBzdGF0ZSBwcm92aWRlclxyXG4gICAgICAgIGxldCAkc3RhdGVQcm92aWRlciA9ICRpbmplY3Rvci5nZXQoXCIkc3RhdGVQcm92aWRlclwiKTtcclxuICAgICAgICBsZXQgJHVybFJvdXRlclByb3ZpZGVyID0gJGluamVjdG9yLmdldChcIiR1cmxSb3V0ZXJQcm92aWRlclwiKTtcclxuXHJcbiAgICAgICAgLy9JbmRpY2F0b3IgaWYgYSBkZWZhdWx0IHN0YXRlIGhhcyBiZWVuIHNldFxyXG4gICAgICAgIGxldCBkZWZhdWx0U3RhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy9Db25maWd1cmUgYWxsIHN0YXRlc1xyXG4gICAgICAgIGZvciAobGV0IGNvbmYgb2Ygc3RhdGVzKSB7XHJcbiAgICAgICAgICAgIGxldCBjbGF6eiA9IGNvbmYuY2xheno7XHJcblxyXG4gICAgICAgICAgICAvL1NldCB0aGUgZGVmYXVsdCBzdGF0ZSBpZlxyXG4gICAgICAgICAgICBpZiAoY29uZi5kZWZhdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEZWZhdWx0IHN0YXRlIGhhcyBhbHJlYWR5IGJlZW4gc2V0IHdoaWxlIGNvbmZpZ3VyaW5nICR7Y29uZi5uYW1lfSwgb3RoZXIgZGVmYXVsdDogJHtkZWZhdWx0U3RhdGUubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHRTdGF0ZSA9IGNvbmY7XHJcbiAgICAgICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKGZ1bmN0aW9uICgkaW5qZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaW5qZWN0b3IuaW52b2tlKFsnJHN0YXRlJywgZnVuY3Rpb24gKCRzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oY29uZi5uYW1lLCB7fSwge2xvY2F0aW9uOiBcInJlcGxhY2VcIn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL1NldCB0aGUgY29udHJvbGxlclxyXG4gICAgICAgICAgICBjb25mLmNvbnRyb2xsZXIgPSBjbGF6ejtcclxuICAgICAgICAgICAgY29uZi5jb250cm9sbGVyQXMgPSBjb25mLmFzIHx8IGNvbmYuY29udHJvbGxlckFzIHx8IGNsYXp6W3N5bWJvbHMuYWxpYXNdO1xyXG5cclxuICAgICAgICAgICAgLy9BdHRlbXB0IHRvIGRlY29yYXRlIEBWaWV3IGRlY29yYXRvclxyXG4gICAgICAgICAgICBkZWNvcmF0ZVZpZXcoY2xhenosIGNvbmYpO1xyXG5cclxuICAgICAgICAgICAgLy9BcHBseSBkZWNvcmF0b3JzXHJcbiAgICAgICAgICAgIGxldCBkZWNvcmF0ZWRDb25mID0gY29uZmlnLlNUQVRFX0RFQ09SQVRPUihjb25mKTtcclxuICAgICAgICAgICAgaWYgKGRlY29yYXRlZENvbmYpIGNvbmYgPSBkZWNvcmF0ZWRDb25mO1xyXG5cclxuICAgICAgICAgICAgLy9GaW5hbGx5IGNvbmZpZ3VyZSB0aGUgc3RhdGUgb250byB0aGUgdWktcm91dGVyXHJcbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKGNvbmYpO1xyXG4gICAgICAgIH1cclxuICAgIH1dKTtcclxufSk7IiwiaW1wb3J0ICogYXMgc3ltYm9scyBmcm9tIFwiLi4vdXRpbC9TeW1ib2xzXCJcclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSB2aWV3IG9mIGFuIEBDb21wb25lbnQgb3IgYSBAU3RhdGUgY2FuIGVpdGhlciBiZVxyXG4gKiBhIHRlbXBsYXRlIG9yIGEgdGVtcGxhdGVVcmwsIHRoZSB2aWV3IGlzIHJlY29nbml6ZWQgYXMgdGVtcGxhdGVcclxuICogaWYgaXQgY29udGFpbnMgYXQgbGVhc3QgMSB0YWchXHJcbiAqIEBwYXJhbSB2aWV3XHJcbiAqIEBEZWNvcmF0b3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBWaWV3KHZpZXcpXHJcbntcclxuICAgIHJldHVybiAodGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgdGFyZ2V0W3N5bWJvbHMudmlld10gPSB2aWV3O1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWNvcmF0ZXMgdGhlIHZpZXcgdG8gdGhlIGNvbmZpZ3VyYXRpb25cclxuICogQHBhcmFtIGNsYXp6XHJcbiAqIEBwYXJhbSBjb25mXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVjb3JhdGVWaWV3KGNsYXp6LCBjb25mKVxyXG57XHJcbiAgICBsZXQgdmlldyA9IGNsYXp6W3N5bWJvbHMudmlld107XHJcbiAgICBpZiAoIXZpZXcpIHJldHVybjtcclxuICAgIGxldCB1cmxSZWdleCA9IC9bXjw+XStcXC5bQS1aYS16XXsyLDV9JC87XHJcbiAgICBpZiAodXJsUmVnZXgudGVzdChcclxuICAgICAgICB2aWV3KSkgeyAvL3VybFxyXG4gICAgICAgIGNvbmYudGVtcGxhdGVVcmwgPSB2aWV3O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25mLnRlbXBsYXRlID0gdmlldztcclxuICAgIH1cclxufSIsImltcG9ydCB7bW9kdWxlfSBmcm9tIFwiLi4vdXRpbC9Bbmd1bGFyTW9kdWxlUmVzb2x2ZXJcIlxyXG5cclxuLyoqXHJcbiAqIFRoaXMgbW9kdWxlIHRhcmdldHMgYW5ndWxhcnMgbWlzc2luZyBhYmlsaXR5IHRvIHRyYWNrIG9iamVjdHMgZm9sbG93aW5nIHRoZSBFUzYgaXRlcmF0b3IgcGF0dGVybixcclxuICogd2hlcmUgYW55IG9iamVjdCB3aGljaCBoYXMgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZCBpcyBpdGVyYWJsZS5cclxuICpcclxuICogVGhpcyBtb2R1bGUgbW9ua2V5IHBhdGNoZXMgZXZlcnkgJHNjb3BlIHRvIHByb3h5ICR3YXRjaENvbGxlY3Rpb24gYW5kIHRyYW5zZm9ybSBhIHBvc3NpYmxlIGl0ZXJhYmxlXHJcbiAqIGludG8gYSBzaW1wbGUgYXJyYXkuXHJcbiAqXHJcbiAqIElmIHlvdSB3YW50IHRvIGFjY2VzcyB0aGUgb3JpZ2luYWwgbWV0aG9kcywgeW91IHdpbGwgaGF2ZSB0byBjYWxsICRzY29wZVtTeW1ib2wuZm9yKFwiJHdhdGNoQ29sbGVjdGlvblwiKV1cclxuICovXHJcbm1vZHVsZS50aGVuKG1vZHVsZSA9PiB7XHJcbiAgICAvKipcclxuICAgICAqIEhvb2sgaW50byB0aGUgJHJvb3RTY29wZVByb3ZpZGVyIHRvIG1ha2Ugc3VyZSB3ZSdyZSB0aGUgZmlyc3Qgb25lcyB0byBtb2RpZnkgdGhlICRyb290U2NvcGVcclxuICAgICAqL1xyXG4gICAgbW9kdWxlLmNvbmZpZyhbXCIkcm9vdFNjb3BlUHJvdmlkZXJcIiwgZnVuY3Rpb24oJHJvb3RTY29wZVByb3ZpZGVyKXtcclxuICAgICAgICBjb25zdCAkZ2V0ID0gJHJvb3RTY29wZVByb3ZpZGVyLiRnZXQ7XHJcbiAgICAgICAgJHJvb3RTY29wZVByb3ZpZGVyLiRnZXQgPSBbXCIkaW5qZWN0b3JcIiwgXCIkcGFyc2VcIiwgZnVuY3Rpb24oJGluamVjdG9yLCAkcGFyc2Upe1xyXG4gICAgICAgICAgICBsZXQgJHJvb3RTY29wZSA9ICRpbmplY3Rvci5pbnZva2UoJGdldCk7XHJcblxyXG4gICAgICAgICAgICBtb25rZXlQYXRjaCR3YXRjaENvbGxlY3Rpb24oJHJvb3RTY29wZSwgJHBhcnNlKTtcclxuICAgICAgICAgICAgbW9ua2V5UGF0Y2gkd2F0Y2hDb2xsZWN0aW9uKCRyb290U2NvcGUuX19wcm90b19fLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgJHBhcnNlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkcm9vdFNjb3BlO1xyXG4gICAgICAgIH1dO1xyXG4gICAgfV0pO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgc3ltYm9scyB0byBhY2Nlc3MgdGhlXHJcbiAqIEB0eXBlIHtTeW1ib2x9XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCAkd2F0Y2hDb2xsZWN0aW9uID0gU3ltYm9sLmZvcihcIiR3YXRjaENvbGxlY3Rpb25cIik7XHJcblxyXG5cclxuLyoqXHJcbiAqIEhlcmUgd2UncmUgYWN0dWFsbHkgcGF0Y2hpbmcgdGhlICR3YXRjaENvbGxlY3Rpb24gbWV0aG9kXHJcbiAqIEBwYXJhbSAkdGFyZ2V0XHJcbiAqIEBwYXJhbSAkcGFyc2VcclxuICovXHJcbmZ1bmN0aW9uIG1vbmtleVBhdGNoJHdhdGNoQ29sbGVjdGlvbigkdGFyZ2V0LCAkcGFyc2UpXHJcbntcclxuICAgICR0YXJnZXRbJHdhdGNoQ29sbGVjdGlvbl0gPSAkdGFyZ2V0LiR3YXRjaENvbGxlY3Rpb247XHJcblxyXG4gICAgJHRhcmdldC4kd2F0Y2hDb2xsZWN0aW9uID0gZnVuY3Rpb24ocHJvcGVydHksIGFjdGlvbil7XHJcblxyXG4gICAgICAgIGxldCBpc0Z1bmMgPSB0eXBlb2YgcHJvcGVydHkgPT0gJ2Z1bmN0aW9uJztcclxuICAgICAgICBsZXQgZ2V0dGVyID0gaXNGdW5jID8gcHJvcGVydHkgOiAkcGFyc2UocHJvcGVydHkpO1xyXG4gICAgICAgIGxldCBpdGVyYWJsZUFzQXJyYXkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0ICRzY29wZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGxldCBtb25rZXlQYXRjaGVkT2JzZXJ2ZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBsZXQgcmVzb2x2ZWQgPSBnZXR0ZXIoaXNGdW5jID8gdW5kZWZpbmVkIDogJHNjb3BlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZCAmJiAhKHJlc29sdmVkIGluc3RhbmNlb2YgQXJyYXkpICYmIHJlc29sdmVkW1N5bWJvbC5pdGVyYXRvcl0pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vUmVmZXJlbmNlIGNoYW5nZWQsIGNoYW5nZSBvdXIgdG9vXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQgIT09IGl0ZXJhYmxlQXNBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhYmxlQXNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vUmVmaWxsIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpdGVyYWJsZUFzQXJyYXkubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgcmVzb2x2ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVyYWJsZUFzQXJyYXkucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL0FuZCByZXR1cm4gaXQgYXMgcmVzdWx0IG9mIHRoZSB3YXRjaCBleHByZXNzaW9uXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlcmFibGVBc0FycmF5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGl0ZXJhYmxlQXNBcnJheSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIC8vSWYgaXQncyBub3QgYW4gaXRlcmFibGUgbm9uLWFycmF5IGp1c3QgcmV0dXJuIHRoZSBvcmlnaW5hbCBvYmplY3RcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzb2x2ZWQsIHByb3BlcnR5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzWyR3YXRjaENvbGxlY3Rpb25dKG1vbmtleVBhdGNoZWRPYnNlcnZlciwgYWN0aW9uKTsgLy9NdXN0IGJlIHRoaXMgd2F5IGJlY2F1c2Ugb2YgbWF4aW11bSBjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWQgZXJyb3JcclxuICAgIH1cclxufSIsImltcG9ydCB7Y29uZmlnfSBmcm9tIFwiLi4vdXRpbC9Db25maWd1cmF0aW9uXCJcclxuXHJcbi8vVGhlIGRlZmF1bHQgem9uZSB3aGVyZSBydW5PdXRzaWRlQW5ndWxhcigpIGNhbGxzIGFyZSBiZWluZyBleGVjdXRlZFxyXG5jb25zdCBvdXRlclpvbmUgPSBab25lLmN1cnJlbnQ7XHJcblxyXG4vL0NyZWF0ZSB0aGUgYW5ndWxhciB6b25lXHJcbmV4cG9ydCBjb25zdCBOZ1pvbmUgPSBvdXRlclpvbmUuZm9yayh7XHJcbiAgICBuYW1lIDogXCJBbmd1bGFyIFpvbmUgPG5nLW5leHQ+XCIsXHJcbiAgICBvbkludm9rZSA6IGZ1bmN0aW9uKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFyZ3MpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBOZ1pvbmUuJGRpZ2VzdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2UodGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcmdzKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAkZGlnZXN0T25jZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbkludm9rZVRhc2sgOiBmdW5jdGlvbihkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFyZ3MpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBOZ1pvbmUuJGRpZ2VzdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2VUYXNrKHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcmdzKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAkZGlnZXN0T25jZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBBZGQgJGRpZ2VzdCB0byB0aGUgem9uZVxyXG5OZ1pvbmUuJGRpZ2VzdCA9IGZ1bmN0aW9uKCl7fTtcclxuXHJcbi8vIERpZ2VzdHMgb25seSBpZiBub3QgYWxyZWFkeSBkb25lXHJcbmNvbnN0ICRkaWdlc3RPbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCFOZ1pvbmUuJGRpZ2VzdGVkKSBOZ1pvbmUuJGRpZ2VzdCgpO1xyXG4gICAgTmdab25lLiRkaWdlc3RlZCA9IGZhbHNlO1xyXG59O1xyXG5cclxuLy8gQWRkIHJ1bk91dHNpZGVBbmd1bGFyIHRvIHRoZSB6b25lXHJcbk5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhciA9IGZ1bmN0aW9uIChmbikge1xyXG4gICAgb3V0ZXJab25lLnJ1bihmbik7XHJcbn07XHJcblxyXG4vL05nWm9uZSBtb2R1bGVcclxuZXhwb3J0IGNvbnN0IG5nWm9uZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwibmdab25lXCIsIFtdKTtcclxubmdab25lTW9kdWxlLmZhY3RvcnkoXCJOZ1pvbmVcIiwgKCkgPT4gTmdab25lKTtcclxuXHJcbi8vQWRkIGF1dG8tYm9vdHN0cmFwIGhhbmRsZXJcclxuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcblxyXG4gICAgaWYgKCFjb25maWcuWk9ORV9KUylcclxuICAgIHtcclxuICAgICAgICBhbmd1bGFyLnJlc3VtZUJvb3RzdHJhcCgpO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIE5nWm9uZS5ydW4oKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy9FeHBvcnQgdGhlIGFuZ3VsYXIgem9uZSBvbnRvIHRoZSB3aW5kb3cgaWYgbm90IGV4aXN0aW5nXHJcbiAgICAgICAgICAgIHdpbmRvdy5OZ1pvbmUgPSB3aW5kb3cuTmdab25lIHx8IE5nWm9uZTtcclxuXHJcbiAgICAgICAgICAgIC8vUmVzdW1lIGJvb3RzdHJhcCBpbnNpZGUgb2Ygb3VyIGFuZ3VsYXIgem9uZVxyXG4gICAgICAgICAgICBhbmd1bGFyLnJlc3VtZUJvb3RzdHJhcChbXCJuZ1pvbmVcIl0pLmludm9rZShbXCIkcm9vdFNjb3BlXCIsICgkcm9vdFNjb3BlKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9QYXRjaCByb290IHNjb3BlcyBkaWdlc3QgdG8gc2V0IGFuIGluZGljYXRvciBvbiB0aGUgem9uZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlnZXN0U3ltYm9sID0gU3ltYm9sLmZvcihcIiRkaWdlc3RcIik7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlW2RpZ2VzdFN5bWJvbF0gPSAkcm9vdFNjb3BlLiRkaWdlc3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9JZiB5b3Ugd2FudCB0byBkaWdlc3Qgb24gem9uZSBsZWF2ZSBnaXZlIFwiZmFsc2VcIiBhcyBwYXJhbWV0ZXIgdG8gJHJvb3RTY29wZS4kZGlnZXN0XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QgPSBmdW5jdGlvbiAoZGlzYWJsZVpvbmVKUyA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZVpvbmVKUykgTmdab25lLiRkaWdlc3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tkaWdlc3RTeW1ib2xdKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vQWRkIGRpZ2VzdCB0byB0aGUgYW5ndWxhciB6b25lXHJcbiAgICAgICAgICAgICAgICBOZ1pvbmUuJGRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1dKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vL0ZvcmNlIGFuZ3VsYXIgdG8gc3RvcCB0aGUgYm9vdHN0cmFwIHByb2Nlc3Ncclxud2luZG93Lm5hbWUgPSBcIk5HX0RFRkVSX0JPT1RTVFJBUCFcIjtcclxuIiwiaW1wb3J0IHtjb25maWd9IGZyb20gXCIuL0NvbmZpZ3VyYXRpb25cIlxyXG5cclxuLyoqXHJcbiAqIFJlZmVyZW5jZSB0byB0aGUgYW5ndWxhciBtb2R1bGUgdXNlZCBieSBBbmd1bGFyMnRvMSwgdGhpcyBtb2R1bGUgaXMgZWl0aGVyXHJcbiAqIHJlc29sdmVkIHZpYSBuZy1hcHAgb3IgYnkgdXNlQW5ndWxhck1vZHVsZSguLi4pXHJcbiAqL1xyXG5sZXQgYW5ndWxhck1vZHVsZSA9IG51bGw7XHJcblxyXG4vKipcclxuICogVGhlIGluamVjdG9yIG9mIG91ciBtYWluIG1vZHVsZVxyXG4gKiBUaGlzICRpbmplY3RvciBzZXJ2aWNlIGlzIHNldCBhcyBzb29uIGFzIHRoZSBtb2R1bGUgd2FzIHJlcXVlc3RlZFxyXG4gKiB0aGUgZmlyc3QgdGltZSBhbmQgYW5ndWxhciBpcyBiZXlvbmQgaXRzIHJ1biBwaGFzZVxyXG4gKi9cclxubGV0ICRpbmplY3RvciA9IG51bGw7XHJcbmxldCAkaW5qZWN0b3JSZXF1ZXN0ZWQgPSBmYWxzZTtcclxuXHJcbmxldCByZXF1ZXN0SW5qZWN0b3IgPSBmdW5jdGlvbigpe1xyXG4gICAgaWYgKGFuZ3VsYXJNb2R1bGUgJiYgISRpbmplY3RvclJlcXVlc3RlZClcclxuICAgIHtcclxuICAgICAgICBhbmd1bGFyTW9kdWxlLnJ1bihbXCIkaW5qZWN0b3JcIiwgaSA9PiAkaW5qZWN0b3IgPSBpXSk7XHJcbiAgICAgICAgJGluamVjdG9yUmVxdWVzdGVkID0gdHJ1ZTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBdHRlbXB0cyB0byBsb29rdXAgdGhlIHJvb3QgYW5ndWxhciBtb2R1bGUgb2YgdGhlIGFwcCBieSByZXNvbHZpbmcgdGhlIGZpcnN0XHJcbiAqIG5nLWFwcCBvbiB0aGUgRE9NXHJcbiAqIEFzIGFuIGFsdGVybmF0aXZlIHlvdSBjYW4gc2V0IHlvdXIgbW9kdWxlIHdpdGggdXNlQW5ndWxhck1vZHVsZSgpLCB3aGljaCB3aWxsXHJcbiAqIHRoZW4gYmUgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGxvb2t1cEFuZ3VsYXJNb2R1bGUoKVxyXG57XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vR2V0IG1hbnVhbGx5IHNwZWNpZmllZCBtb2R1bGUgZnJvbSBjb25maWdcclxuICAgICAgICBpZiAoY29uZmlnLk1PRFVMRSAmJiAhYW5ndWxhck1vZHVsZSkge1xyXG4gICAgICAgICAgICBhbmd1bGFyTW9kdWxlID0gY29uZmlnLk1PRFVMRTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vUmV0dXJucyB0aGUgcHJlc2V0IG1vZHVsZSBpZiBhdmFpbGFibGVcclxuICAgICAgICBpZiAoYW5ndWxhck1vZHVsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYW5ndWxhck1vZHVsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBuZ0FwcEhvbGRlciA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25nLWFwcF1cIikpO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKCFuZ0FwcEhvbGRlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZWxlbWVudCB3aXRoIFtuZy1hcHBdIGZvdW5kIGFuZCBubyBtb2R1bGUgc2V0IHdpdGggJ3VzZUFuZ3VsYXJNb2R1bGUoKSdcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbW9kdWxlTmFtZSA9IG5nQXBwSG9sZGVyWzBdLmdldEF0dHJpYnV0ZSgnbmctYXBwJyk7XHJcbiAgICAgICAgYW5ndWxhck1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gYW5ndWxhck1vZHVsZTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgcmVxdWVzdEluamVjdG9yKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogU2V0cyB0aGUgYW5ndWxhciBtb2R1bGUgd2hpY2ggaXMgdXNlZCBieSBBbmd1bGFyMnRvMVxyXG4gKiBAcGFyYW0gbW9kdWxlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlQW5ndWxhck1vZHVsZShtb2R1bGUpXHJcbntcclxuICAgIGFuZ3VsYXJNb2R1bGUgPSBtb2R1bGU7XHJcbiAgICByZXF1ZXN0SW5qZWN0b3IoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1haW4gJGluamVjdG9yIG9mIHRoZSByb290IGFuZ3VsYXJcclxuICogbW9kdWxlLCBpcyBhdmFpbGFibGUgYXMgc29vbiBhcyB0aGUgbW9kdWxlIGhhcyBiZWVuIHJlcXVlc3RlZCBhdCBsZWFzdFxyXG4gKiBvbmNlIGFuZCBhbmd1bGFyIGlzIGJleW9uZCBpdHMgcnVuIHBoYXNlXHJcbiAqIEBkZWNvcmF0b3JcclxuICogQHJldHVybiB7Kn1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmd1bGFySW5qZWN0b3IoKVxyXG57XHJcbiAgICByZXR1cm4gJGluamVjdG9yO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtb2R1bGVFcnJvcihlKVxyXG57XHJcbiAgICBjb25zb2xlLmxvZyhlKTtcclxufVxyXG5cclxuY29uc3QgbW9kdWxlUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICB0cnkgIC8vSWYgd2UncmUgbHVja3kgdGhlIG1vZHVsZSBkb2VzIGFscmVhZHkgZXhpc3RcclxuICAgIHtcclxuICAgICAgICBsZXQgbW9kdWxlID0gbG9va3VwQW5ndWxhck1vZHVsZSgpO1xyXG4gICAgICAgIHJlcXVlc3RJbmplY3RvcigpO1xyXG4gICAgICAgIHJlc29sdmUobW9kdWxlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSAvL090aGVyd2lzZSB3ZSBtdXN0IGF0dGVtcHQgdG8gYXdhaXQgaXRzIGNyZWF0aW9uXHJcbiAgICB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSWYgbmctYXBwIGlzIGRlZmluZWQgd2UncmUgbW9ua2V5IHBhdGNoaW5nIGFuZ3VsYXJzIG1vZHVsZSgpIGZ1bmN0aW9uXHJcbiAgICAgICAgICogaW4gb3JkZXIgdG8gZ2V0IG5vdGlmaWVkIGFzIHNvb24gYXMgdGhlIG1vZHVsZSBpcyBhdmFpbGFibGVcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGxldCBuZ0FwcEhvbGRlciA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25nLWFwcF1cIikpO1xyXG4gICAgICAgIGlmIChuZ0FwcEhvbGRlci5sZW5ndGgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgYXBwTW9kdWxlTmFtZSA9IG5nQXBwSG9sZGVyWzBdLmdldEF0dHJpYnV0ZSgnbmctYXBwJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdNb2R1bGVGdW5jdGlvbiA9IGFuZ3VsYXIubW9kdWxlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFhbmd1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgaW5jbHVkZSBhbmd1bGFyIGJlZm9yZSBuZy1uZXh0IVwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9Nb25rZXkgcGF0Y2ggdGhlIG1vZHVsZSBmdW5jdGlvbiB0byBkZXRlY3QgaXRzIGNyZWF0aW9uXHJcbiAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlID0gZnVuY3Rpb24obmFtZSwgZGVwZW5kZW5jaWVzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9kdWxlID0gb3JpZ01vZHVsZUZ1bmN0aW9uKG5hbWUsIGRlcGVuZGVuY2llcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9PdXIgbWFpbiBtb2R1bGUgaXMgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBhcHBNb2R1bGVOYW1lICYmIGRlcGVuZGVuY2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlID0gb3JpZ01vZHVsZUZ1bmN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXJNb2R1bGUgPSBtb2R1bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluamVjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtb2R1bGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9JbiBjYXNlIG5vIG5nLWFwcCBpcyBhdmFpbGFibGUgd2UgbXVzdCBtb25rZXkgcGF0Y2ggdGhlIGNvbmZpZyBvYmplY3QgdG8gZ2V0XHJcbiAgICAgICAgICAgIC8vTm90aWZpZWQgd2hlbiB0aGUgbW9kdWxlIGlzIGdldHRpbmcgY29uZmlndXJlZFxyXG4gICAgICAgICAgICBsZXQgbW9kdWxlU3ltYm9sID0gU3ltYm9sKFwiTU9EVUxFXCIpO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uZmlnLCBcIk1PRFVMRVwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQgOiBtb2R1bGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29uZmlnW21vZHVsZVN5bWJvbF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhck1vZHVsZSA9IG1vZHVsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluamVjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobW9kdWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnW21vZHVsZVN5bWJvbF0gPSBtb2R1bGVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBnZXQgOiAoKSA9PiBjb25maWdbbW9kdWxlU3ltYm9sXVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbmV4cG9ydCB7bW9kdWxlUHJvbWlzZSBhcyBtb2R1bGV9XHJcbiIsImltcG9ydCB7YW5ndWxhckluamVjdG9yLCBtb2R1bGV9IGZyb20gXCIuL0FuZ3VsYXJNb2R1bGVSZXNvbHZlclwiXHJcbmltcG9ydCB7Y29uZmlnfSBmcm9tIFwiLi9Db25maWd1cmF0aW9uXCJcclxuaW1wb3J0ICogYXMgc3ltYm9scyBmcm9tIFwiLi4vdXRpbC9TeW1ib2xzXCJcclxuXHJcbi8qKlxyXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXkgKGluamVjdCkgdGhpcyBtZXRob2RcclxuICogd2lsbCByZXR1cm4gb25seSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgJGluamVjdCBwcm9wZXJ0eVxyXG4gKiBzZXRcclxuICogQHBhcmFtIGFyZ1xyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2goYXJnKVxyXG57XHJcbiAgICBpZiAoYXJnLmNvbnN0cnVjdG9yID09IEFycmF5KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBhcnIgPSBhcmc7XHJcbiAgICAgICAgYXJnID0gYXJyLnNwbGljZShhcnIubGVuZ3RoIC0gMSwgMSlbMF07XHJcbiAgICAgICAgYXJnLiRpbmplY3QgPSBhcnI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJnO1xyXG59XHJcblxyXG4vLyBSdW4gYmxvY2sgd2hpY2ggd2lsbCBjb25maWd1cmUgYWxsIGFubm90YXRpb25zIG9uIGFueSBzZXJ2aWNlcyBhdmFpbGFibGVcclxuLy8gQWxsIHNlcnZpY2VzIGFyZSB1c2VkIHRvZ2V0aGVyIHdpdGggdGhlICRyb290U2NvcGVcclxuLyoqXHJcbiAqIEV4cG9zZXMgYWxsIHNlcnZpY2VzIG9mIGEgc2luZ2xlIG1vZHVsZVxyXG4gKiBAcGFyYW0gbW9kdWxlXHJcbiAqL1xyXG5sZXQgZXhwb3NlTW9kdWxlID0gbW9kdWxlID0+IHtcclxuICAgIGxldCAkaW5qZWN0b3IgPSBhbmd1bGFySW5qZWN0b3IoKTtcclxuICAgIGxldCAkcm9vdFNjb3BlID0gJGluamVjdG9yLmdldChcIiRyb290U2NvcGVcIik7XHJcbiAgICBtb2R1bGUuX2ludm9rZVF1ZXVlLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgbGV0IGRlZiA9IGl0ZW1bMl07XHJcbiAgICAgICAgaWYgKCRpbmplY3Rvci5oYXMoZGVmWzBdKSkge1xyXG4gICAgICAgICAgICBsZXQgc2VydmljZSA9ICRpbmplY3Rvci5nZXQoZGVmWzBdKTtcclxuICAgICAgICAgICAgY2FsbEFubm90YXRpb25zKHNlcnZpY2UsICRyb290U2NvcGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy9Bd2FpdCB0aGUgYW5ndWxhciBtb2R1bGVcclxubW9kdWxlLnRoZW4obSA9PiB7XHJcbiAgICBtLnJ1bigoKSA9PiB7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5BTExPV19ERUNPUkFUT1JTX0lOX1NFUlZJQ0VTKSB7XHJcbiAgICAgICAgICAgIGV4cG9zZU1vZHVsZShtKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBDYWxscyBhbGwgcmVnaXN0ZXJlZCBhbm5vdGF0aW9ucyBvbiB0aGUgY29udHJvbGxlciwgb3Igb25cclxuICogYSBzZXJ2aWNlXHJcbiAqIEBwYXJhbSBjb250cm9sbGVyXHJcbiAqIEBwYXJhbSAkc2NvcGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxsQW5ub3RhdGlvbnMoY29udHJvbGxlciwgJHNjb3BlKVxyXG57XHJcbiAgICAvL0FzeW5jIHdyYXBwZXJcclxuICAgIGxldCBhc3luY1dyYXBwZXIgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4gJHNjb3BlLiRkaWdlc3QuY2FsbCgkc2NvcGUpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vQ2FsbCBpbml0IG1ldGhvZHNcclxuICAgIGxldCBpbml0ZWQgPSBbXTtcclxuICAgIGZvciAobGV0IGluaXRpYWxpemVyIG9mIGNvbnRyb2xsZXJbc3ltYm9scy5pbml0XSB8fCBbXSlcclxuICAgIHtcclxuICAgICAgICBpZiAoIWluaXRlZC5pbmNsdWRlcyhpbml0aWFsaXplcikpIHtcclxuICAgICAgICAgICAgYXN5bmNXcmFwcGVyKGNvbnRyb2xsZXJbaW5pdGlhbGl6ZXJdKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbml0ZWQucHVzaChpbml0aWFsaXplcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy9CaW5kIHdhdGNoZXNcclxuICAgIGxldCB3YXRjaGVkID0gW107XHJcbiAgICBsZXQgJHBhcnNlID0gYW5ndWxhckluamVjdG9yKCkuZ2V0KFwiJHBhcnNlXCIpO1xyXG4gICAgZm9yIChsZXQgd2F0Y2hlciBvZiBjb250cm9sbGVyW3N5bWJvbHMud2F0Y2hdIHx8IFtdKSB7XHJcbiAgICAgICAgaWYgKCF3YXRjaGVkLmluY2x1ZGVzKHdhdGNoZXIpKSB7XHJcblxyXG4gICAgICAgICAgICAvL1BhcnNlIHRoZSBhbmd1bGFyIGV4cHJlc3Npb25cclxuICAgICAgICAgICAgbGV0IHBhcnNlID0gJHBhcnNlKHdhdGNoZXIucHJvcGVydHkpO1xyXG4gICAgICAgICAgICBsZXQgZ2V0dGVyID0gKCkgPT4gcGFyc2UoY29udHJvbGxlcik7XHJcblxyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gZnVuY3Rpb24oLi4ucGFyYW1zKXtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJbd2F0Y2hlci5uYW1lXSguLi5wYXJhbXMpO1xyXG4gICAgICAgICAgICB9LmJpbmQoY29udHJvbGxlcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXdhdGNoZXIuY29sbGVjdGlvbikgJHNjb3BlLiR3YXRjaChnZXR0ZXIsIGFjdGlvbiwgISF3YXRjaGVyLmRlZXApO1xyXG4gICAgICAgICAgICBlbHNlICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGdldHRlciwgYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2F0Y2hlZC5wdXNoKHdhdGNoZXIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL0JpbmQgZXZlbnRzXHJcbiAgICBsZXQgZXZlbnRlZCA9IFtdO1xyXG4gICAgZm9yIChsZXQgb24gb2YgY29udHJvbGxlcltzeW1ib2xzLm9uXSB8fCBbXSkge1xyXG4gICAgICAgIGlmICghIGV2ZW50ZWQuaW5jbHVkZXMob24pKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kb24ob24uZXZlbnQsIGZ1bmN0aW9uKC4uLnBhcmFtcyl7XHJcbiAgICAgICAgICAgICAgICBhc3luY1dyYXBwZXIoY29udHJvbGxlcltvbi5uYW1lXSguLi5wYXJhbXMpKTtcclxuICAgICAgICAgICAgfSkuYmluZChjb250cm9sbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnRlZC5wdXNoKG9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvL1NjaGVkdWxlZCBtZXRob2RzXHJcbiAgICBsZXQgJGludGVydmFsID0gYW5ndWxhckluamVjdG9yKCkuZ2V0KFwiJGludGVydmFsXCIpO1xyXG4gICAgbGV0IHNjaGVkdWxlZCA9IFtdO1xyXG4gICAgZm9yIChsZXQgc2NoZWR1bGUgb2YgY29udHJvbGxlcltzeW1ib2xzLnNjaGVkdWxlXSB8fCBbXSkge1xyXG4gICAgICAgIGlmICghc2NoZWR1bGVkLmluY2x1ZGVzKHNjaGVkdWxlKSl7XHJcbiAgICAgICAgICAgIGxldCBpZCA9ICRpbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgYXN5bmNXcmFwcGVyKGNvbnRyb2xsZXJbc2NoZWR1bGUubmFtZV0oKSk7XHJcbiAgICAgICAgICAgIH0uYmluZChjb250cm9sbGVyKSwgc2NoZWR1bGUuaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJG9uKFwiJGRlc3Ryb3lcIiwgKCkgPT4gJGludGVydmFsLmNhbmNlbChpZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0NhbGwgZGVzdHJveSBtZXRob2RzXHJcbiAgICAkc2NvcGUuJG9uKFwiJGRlc3Ryb3lcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICBsZXQgZGVzdHJveWVkID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgZGVzdHJveWVyIG9mIGNvbnRyb2xsZXJbc3ltYm9scy5kZXN0cm95XSB8fCBbXSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICghZGVzdHJveWVkLmluY2x1ZGVzKGRlc3Ryb3llcikpIGNvbnRyb2xsZXJbZGVzdHJveWVyXSgpO1xyXG4gICAgICAgICAgICBkZXN0cm95ZWQucHVzaChkZXN0cm95ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59IiwiLy8gVGhlIHB1cnBvc2Ugb2YgdGhpcyBmaWxlIGlzIHRvIHByb3ZpZGUgYW4gZWFzeSBjb25maWd1cmF0aW9uIEFQSVxyXG4vLyBhY2Nlc2libGUgZnJvbSB0aGUgb3V0c2lkZVxyXG5cclxuLyoqXHJcbiAqIFRoZSBtb2R1bGUgY29uZmlndXJhdGlvbiwgYXMgYW4gYW5vbnltb3VzIG9iamVjdFxyXG4gKi9cclxuY29uc3QgTmdOZXh0Q29uZmlnID0gIHtcclxuXHJcbiAgICAvL0FuZ3VsYXIgbW9kdWxlXHJcbiAgICBNT0RVTEUgOiB1bmRlZmluZWQsXHJcblxyXG4gICAgLy9ab25lLmpzXHJcbiAgICBaT05FX0pTIDogdHJ1ZSxcclxuXHJcbiAgICAvL0Z1cnRoZXIgY29uZmlndXJhdGlvblxyXG4gICAgQUxMT1dfREVDT1JBVE9SU19JTl9TRVJWSUNFUyA6IHRydWUsXHJcblxyXG4gICAgLy9EZWNvcmF0b3JzXHJcbiAgICBTVEFURV9ERUNPUkFUT1IgOiBzdGF0ZSA9PiBzdGF0ZVxyXG59O1xyXG5cclxuZXhwb3J0IHtOZ05leHRDb25maWcgYXMgY29uZmlnfTsiLCIvKipcclxuICogVGhpcyB3cmFwcGVyIGVuYWJsZXMgYW4gaW50dWl0aXZlIHdheSB0byB1c2Ugb2YgZXM2IGNsYXNzZXNcclxuICogYXMgYW5ndWxhciBkaXJlY3RpdmUuXHJcbiAqIElmIHlvdSB3cmFwIHlvdXIgZGlyZWN0aXZlIGNsYXNzIHdpdGggdGhpcyBmdW5jdGlvbiB5b3UgY2FuXHJcbiAqIHVzZSBsaW5rL2NvbXBpbGUgZnVuY3Rpb25zIHdpdGggXCJ0aGlzXCIgcmVmZXJlbmNlIGFuZCBAbmdJbmplY3RcclxuICogb24gYm90aCB0aGUgY29uc3RydWN0b3IgYW5kIHRoZSBjb250cm9sbGVyIVxyXG4gKlxyXG4gKiBAcGFyYW0gZGlyZWN0aXZlXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkaXJlY3RpdmUpXHJcbntcclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggZnVuY3Rpb24gZnJvbSBhcnJheVxyXG4gICAgICovXHJcbiAgICBpZiAoZGlyZWN0aXZlLmNvbnN0cnVjdG9yID09IEFycmF5KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBhcnIgPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgZGlyZWN0aXZlID0gYXJyLnNwbGljZShhcnIubGVuZ3RoIC0gMSwgMSlbMF07XHJcbiAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBhcnI7XHJcbiAgICB9XHJcblxyXG4gICAgLy9DaGVjayBpZiBkaXJlY3RpdmUgaXMgYW4gYWN0dWFsIGNsYXNzXHJcbiAgICB0cnlcclxuICAgIHtcclxuICAgICAgICBkaXJlY3RpdmUoKTtcclxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpXHJcbiAgICB7XHJcbiAgICAgICAgLy9Db250aW51ZSBhbmQgd3JhcCBjbGFzcyB0byBtYWtlIGl0IHVzYWJsZSBpbiBhbmd1bGFyXHJcbiAgICAgICAgaWYoIShlIGluc3RhbmNlb2YgVHlwZUVycm9yKSkgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZm4gPSBmdW5jdGlvbiguLi5pbmplY3QpXHJcbiAgICB7XHJcbiAgICAgICAgLy9DcmVhdGUgRGlyZWN0aXZlXHJcbiAgICAgICAgbGV0IGluc3RhbmNlID0gbmV3IGRpcmVjdGl2ZSguLi5pbmplY3QpO1xyXG5cclxuICAgICAgICAvL1dyYXAgbGluayBjYWxsIHRvIGtlZXAgdGhpcyByZWZlcmVuY2VzXHJcbiAgICAgICAgaWYgKCEhaW5zdGFuY2UubGluaylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBsaW5rID0gaW5zdGFuY2UubGluaztcclxuXHJcbiAgICAgICAgICAgIGluc3RhbmNlLmxpbmsgPSBmdW5jdGlvbiguLi5hcmdzKXtcclxuICAgICAgICAgICAgICAgIGxpbmsuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9XcmFwIGNvbXBpbGUgY2FsbCB0byBrZWVwIFwidGhpc1wiIHJlZmVyZW5jZVxyXG4gICAgICAgIGlmICghIWluc3RhbmNlLmNvbXBpbGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgY29tcGlsZSA9IGluc3RhbmNlLmNvbXBpbGU7XHJcblxyXG4gICAgICAgICAgICBpbnN0YW5jZS5jb21waWxlID0gZnVuY3Rpb24oLi4uYXJncylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGUuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1JldHVybiB0aGUgZGlyZWN0aXZlIHRvIGFuZ3VsYXJcclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vS2VlcCBuZ0Fubm90YXRlIGluamVjdHNcclxuICAgIGZuLiRpbmplY3QgPSBkaXJlY3RpdmUuJGluamVjdDtcclxuXHJcbiAgICByZXR1cm4gZm47XHJcbn07IiwiZXhwb3J0IGNvbnN0IHN0YXRlID0gU3ltYm9sKFwiQFN0YXRlXCIpO1xyXG5leHBvcnQgY29uc3QgdmlldyA9IFN5bWJvbChcIkBWaWV3XCIpO1xyXG5leHBvcnQgY29uc3QgYWxpYXMgPSBTeW1ib2woXCJAQWxpYXNcIik7XHJcbmV4cG9ydCBjb25zdCBpbml0ID0gU3ltYm9sKFwiQEluaXRcIik7XHJcbmV4cG9ydCBjb25zdCBkZXN0cm95ID0gU3ltYm9sKFwiQERlc3Ryb3lcIik7XHJcbmV4cG9ydCBjb25zdCB3YXRjaCA9IFN5bWJvbChcIkBXYXRjaFwiKTtcclxuZXhwb3J0IGNvbnN0IG9uID0gU3ltYm9sKFwiQE9uXCIpO1xyXG5leHBvcnQgY29uc3Qgc2NoZWR1bGUgPSBTeW1ib2woXCJAU2NoZWR1bGVcIik7XHJcbmV4cG9ydCBjb25zdCBiaW5kID0gU3ltYm9sKFwiQEJpbmRcIik7XHJcbmV4cG9ydCBjb25zdCBzY29wZSA9IFN5bWJvbChcIlNjb3BlXCIpO1xyXG5leHBvcnQgY29uc3QgbG9jYWxzID0gU3ltYm9sKFwiTG9jYWxzXCIpO1xyXG4iXX0="}